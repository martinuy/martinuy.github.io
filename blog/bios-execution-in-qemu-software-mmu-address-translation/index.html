<!DOCTYPE html>
<html lang="en-US" class="no-js no-svg">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-109522903-1"></script>
<script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-109522903-1');</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="shortcut icon" href="https://martin.uy/resources/favicon.png" type="image/png">

<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>BIOS execution in QEMU: software MMU address translation &#8211; martin.uy</title>
<meta name="robots" content="max-image-preview:large">
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link href="https://fonts.gstatic.com/" crossorigin rel="preconnect">
<link rel="alternate" type="application/rss+xml" title="martin.uy &raquo; Feed" href="./../feed/index.html">
<link rel="alternate" type="application/rss+xml" title="martin.uy &raquo; Comments Feed" href="./../comments/feed/index.html">
<link rel="alternate" type="application/rss+xml" title="martin.uy &raquo; BIOS execution in QEMU: software MMU address translation Comments Feed" href="./feed/index.html">
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":".\/\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.7.4"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"🏳️‍⚧️","🏳️​⚧️")?!1:!n(e,"🇺🇳","🇺​🇳")&&!n(e,"🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴​󠁧​󠁢​󠁥​󠁮​󠁧​󠁿");case"emoji":return!n(e,"🐦‍⬛","🐦​⬛")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<link rel="stylesheet" id="crayon-css" href="./../wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-classic-css" href="./../wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-monospace-css" href="./../wp-content/plugins/crayon-syntax-highlighter/fonts/monospace.css?ver=_2.7.2_beta" type="text/css" media="all">
<style id="wp-emoji-styles-inline-css" type="text/css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="./../wp-includes/css/dist/block-library/style.min.css?ver=6.7.4" type="text/css" media="all">
<style id="classic-theme-styles-inline-css" type="text/css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css" type="text/css">:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="twentyseventeen-fonts-css" href="https://fonts.googleapis.com/css?family=Libre+Franklin%3A300%2C300i%2C400%2C400i%2C600%2C600i%2C800%2C800i&#038;subset=latin%2Clatin-ext" type="text/css" media="all">
<link rel="stylesheet" id="twentyseventeen-style-css" href="./../wp-content/themes/twentyseventeen/style.css?ver=6.7.4" type="text/css" media="all">
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentyseventeen-ie8-css' href='.//wp-content/themes/twentyseventeen/assets/css/ie8.css?ver=1.0' type='text/css' media='all' />
<![endif]-->
<script type="text/javascript" src="./../wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="./../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<script type="text/javascript" id="crayon_js-js-extra">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":".\/\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="./../wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta" id="crayon_js-js"></script>
<!--[if lt IE 9]>
<script type="text/javascript" src=".//wp-content/themes/twentyseventeen/assets/js/html5.js?ver=3.7.3" id="html5-js"></script>
<![endif]-->
<link rel="https://api.w.org/" href="./../wp-json/index.html">
<link rel="alternate" title="JSON" type="application/json" href="./../wp-json/wp/v2/posts/768/index.html">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="./../xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.7.4">
<link rel="canonical" href="./index.html">
<link rel="shortlink" href="./../index.html?p=768">
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="./../wp-json/oembed/1.0/embed/index.html?url=.%2F%2Fbios-execution-in-qemu-software-mmu-address-translation%2F">
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="./../wp-json/oembed/1.0/embed/index.html?url=.%2F%2Fbios-execution-in-qemu-software-mmu-address-translation%2F#038;format=xml">
	<style id="twentyseventeen-custom-header-styles" type="text/css">.site-title,
		.site-description {
			position: absolute;
			clip: rect(1px, 1px, 1px, 1px);
		}</style>
	</head>

<body class="post-template-default single single-post postid-768 single-format-standard wp-custom-logo has-sidebar title-tagline-hidden colors-light">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<header id="masthead" class="site-header" role="banner">

		<div class="custom-header">

		<div class="custom-header-media">
					</div>

	<div class="site-branding">
	<div class="wrap">

		<a href="./../index.html" class="custom-logo-link" rel="home"><img width="250" height="71" src="./../wp-content/uploads/2018/01/main_logo.png" class="custom-logo" alt="martin.uy" decoding="async" sizes="100vw"></a>
		<div class="site-branding-text">
							<p class="site-title"><a href="./../index.html" rel="home">martin.uy</a></p>
			
							<p class="site-description">Open source, Linux, kernel, C/C++, Security.</p>
					</div>
<!-- .site-branding-text -->

		
	</div>
<!-- .wrap -->
</div>
<!-- .site-branding -->

</div>
<!-- .custom-header -->

		
	</header><!-- #masthead -->

	
	<div class="site-content-contain">
		<div id="content" class="site-content">

<div class="wrap">
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

			
<article id="post-768" class="post-768 post type-post status-publish format-standard hentry category-qemu">
		<header class="entry-header">
		<div class="entry-meta"><span class="posted-on"><span class="screen-reader-text">Posted on</span> <a href="./index.html" rel="bookmark"><time class="entry-date published" datetime="2020-04-26T08:50:44+00:00">April 26, 2020</time><time class="updated" datetime="2025-02-12T01:58:44+00:00">February 12, 2025</time></a></span></div>
<!-- .entry-meta --><h1 class="entry-title">BIOS execution in QEMU: software MMU address translation</h1>	</header><!-- .entry-header -->

	
	<div class="entry-content">
		<p><img fetchpriority="high" decoding="async" class="aligncenter wp-image-858 size-full" src="./../wp-content/uploads/2020/04/qemu_code.png" alt="" width="867" height="488" srcset="./../wp-content/uploads/2020/04/qemu_code.png 867w, ./../wp-content/uploads/2020/04/qemu_code-300x169.png 300w, ./../wp-content/uploads/2020/04/qemu_code-768x432.png 768w" sizes="(max-width: 767px) 89vw, (max-width: 1000px) 54vw, (max-width: 1071px) 543px, 580px"></p>
<p>In the previous article (<a href="./../bios-execution-in-qemu-where-it-all-starts/index.html">BIOS execution in QEMU: where it all starts</a>) we described how QEMU starts executing the BIOS image and what <em>binary translation</em> means. Even though we found the BIOS image instructions in the host memory and established a sort of correlation to <em>emulated physical addresses</em> executed by QEMU&#8217;s CPU, there was still a leap in-between. That is what we will explore now.</p>
<p>Modern CPUs view memory as a virtual and continuous range. A hardware component called <a href="https://en.wikipedia.org/wiki/Memory_management_unit">MMU</a> (Memory Management Unit) does a translation between virtual and physical addresses, that ultimately go into the <em>system memory bus</em>. To increase performance, MMUs implement a cache scheme called <a href="https://en.wikipedia.org/wiki/Translation_lookaside_buffer">TLB</a> (Translation Lookaside Buffer). These same concepts of &#8216;translating between two disjoint address spaces&#8217; and &#8216;caching translations&#8217; are implemented by QEMU&#8217;s software MMU (<em>softmmu</em>).</p>
<p><span id="more-768"></span></p>
<p>QEMU&#8217;s CPU executes instructions on an <em>emulated physical address</em> space (<em>emu-phy-addresses</em>, from now on), when in <em>real mode</em>. These instructions are located in QEMU&#8217;s process memory (host virtual space); so there has to be a way of finding and fetching them based on their <em>emu-phy-address</em> while generating Translation Blocks. The same applies to read/write CPU instructions that access the main memory or memory-mapped devices.</p>
<p>What we described is essentially a mapping problem; and the key structure in QEMU to tackle it down is<a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/memory.h#L350"> MemoryRegion</a>. Each Memory Region instance describes an <em>emu-phy-address</em><em> </em>range. Looking at some of its members (address, size, name, <em>read-onlyness</em> status, sub-regions, aliases, etc.) should give an idea of that the region is for. However, the effect of an access will depend on its type.</p>
<p>Let&#8217;s have a look at a Memory Regions map just before CPU execution begins:</p>
<ul>
<li>system [0x0 &#8211; UINT64_MAX)
<ul>
<li>ram-below-4g [0x0 &#8211; 0x8000000)
<ul>
<li>Alias of pc.ram</li>
</ul>
</li>
<li>smram-region [0xa0000 &#8211; 0xc0000)
<ul>
<li>Alias of pci</li>
</ul>
</li>
<li>pam-pci [0xf0000 &#8211; 0x100000)
<ul>
<li>Alias of pci</li>
</ul>
</li>
<li>pam-rom [0xf0000 &#8211; 0x100000)
<ul>
<li>Alias of pc.ram</li>
</ul>
</li>
<li>pam-pci [0xf0000 &#8211; 0x100000)
<ul>
<li>Alias of pc.ram</li>
</ul>
</li>
<li>pam-ram [0xf0000 &#8211; 0x100000)
<ul>
<li>Alias of pc.ram</li>
</ul>
</li>
<li>&#8230;
<ul>
<li>Several pam-* regions similar to the previous (omitted)</li>
</ul>
</li>
<li>ioapic [0xfec00000 &#8211; 0xfec01000)</li>
<li>hpet [0xfed00000 &#8211; 0xfed00400)</li>
<li>apic-msi [0xfee00000 &#8211; 0xfef00000)</li>
<li>pci [0x0 &#8211; UINT64_MAX)
<ul>
<li>vga-lowmem [0xa0000 &#8211; 0xc0000)</li>
<li>pc.rom [0xc0000 &#8211; 0xe0000)</li>
<li>
<strong>isa-bios [0xe0000 &#8211; 0x100000)</strong>
<ul>
<li>Alias of pc.bios</li>
</ul>
</li>
<li><strong>pc.bios [0xfffc0000 &#8211; 0x100000000)</strong></li>
</ul>
</li>
</ul>
</li>
<li>io
<ul>
<li>piix4-pm [0x0 &#8211; 0x40)
<ul>
<li>acpi-evt [0x0 &#8211; 0x4)</li>
<li>acpi-cnt [0x4 &#8211; 0x6)</li>
<li>acpi-tmr [0x8 &#8211; 0xc)</li>
</ul>
</li>
<li>dma-chan [0x0 &#8211; 0x8)</li>
<li>dma-cont [0x8 &#8211; 0x10)</li>
<li>pic [0x20 &#8211; 0x22)</li>
<li>pit [0x40 &#8211; 0x44)</li>
<li>i8042-data [0x60]</li>
<li>pcspk [0x61]</li>
<li>i8042-cmd [0x64]</li>
<li>rtc [0x70 &#8211; 0x72)
<ul>
<li>rtc-index [0x0]</li>
</ul>
</li>
<li>kvmvapic [0x7e &#8211; 0x80)</li>
<li>ioport80 [0x80]</li>
<li>dma-page [0x81 &#8211; 0x84)</li>
<li>dma-page [0x87]</li>
<li>dma-page [0x89 &#8211; 0x8c)</li>
<li>dma-page [0x8f]</li>
<li>port92 [0x92]</li>
<li>pic [0xa0 &#8211; 0xa2)</li>
<li>apm-io [0xb2 &#8211; 0xb4)</li>
<li>dma-chan [0xc0 &#8211; 0xd0)</li>
<li>dma-cont [0xd0 &#8211; 0xe0)</li>
<li>ioportF0 [0xf0]</li>
<li>ide [0x170 &#8211; 0x178)</li>
<li>vbe [0x1ce &#8211; 0x1d1)</li>
<li>ide [0x1f0 &#8211; 0x1f8)</li>
<li>ide [0x376]</li>
<li>parallel [0x378 &#8211; 0x380)</li>
<li>vga [0x3b4 &#8211; 0x3b6)</li>
<li>vga [0x3ba]</li>
<li>vga [0x3c0 &#8211; 0x3d0)</li>
<li>vga [0x3d4 &#8211; 0x3d6)</li>
<li>vga [0x3da]</li>
<li>fdc [0x3f1 &#8211; 0x3f6)</li>
<li>ide [0x3f6]</li>
<li>fdc [0x3f7]</li>
<li>serial [0x3f8 &#8211; 0x400)</li>
<li>elcr [0x4d0]</li>
<li>elcr [0x4d1]</li>
<li>fwcfg [0x510 &#8211; 0x512)</li>
<li>fwcfg.dma [0x514 &#8211; 0x51c)</li>
<li>pci-conf-idx [0xcf8 &#8211; 0xcfc)</li>
<li>piix3-reset-control [0xcf9]</li>
<li>pci-conf-data [0xcfc &#8211; 0xd00)</li>
<li>vmport [0x5658]</li>
<li>acpi-pci-hotplug [0xae00 &#8211; 0xae14)</li>
<li>acpi-cpu-hotplug [0xaf00 &#8211; 0xaf20)</li>
<li>acpi-gpe0 [0xafe0 &#8211; 0xafe4)</li>
<li>pm-smbus [0xb100 &#8211; 0xb140)</li>
</ul>
</li>
</ul>
<p><small>(*) A breakpoint in <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/exec.c#L3165">memory_map_init</a> gives pointers to navigate this map.</small><br>
<small>(**) In bold the Memory Regions of interest for this article.</small></p>
<p>If the CPU starts executing at 0xfffffff0 <em>emu-phy-address</em>, <em>pc.bios</em> seems to be the Memory Region involved when generating the first Translation Block. <em>pc.bios</em> is a read-only RAM region. As such, its<em> <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/memory.h#L366">ram_block</a></em> member refers to a <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/ram_addr.h#L27"><em>RAMBlock</em></a> structure; which in turn has a <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/ram_addr.h#L30"><em>host</em></a> pointer to the actual chunk in host&#8217;s memory.</p>
<p>As seen in the <a href="./../bios-execution-in-qemu-where-it-all-starts/index.html">previous article</a>, <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/hw/core/loader.c#L917"><em>rom_add_file</em></a> reads the BIOS image from a file and a <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/hw/core/loader.c#L822"><em>Rom</em></a> structure indicates its <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/hw/core/loader.c#L833">location in the host memory</a>. This location has no relation to <em>pc.bios</em>, though. Bytes have to be copied from one place to the other. That&#8217;s precisely what <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/exec.c#L3520"><em>address_space_write_rom_internal</em></a> does: <em>pc.bios&#8217;s</em> RAM block is filled with BIOS bytes from the <em>Rom</em> instance upon a virtual machine reset.</p>
<p>Time for a quick test.</p>
<p>BIOS image bytes in the host memory, pointed by a <em>Rom</em> structure:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432e0484762300" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) x/5xb ((Rom*)0x5555563d6ac0)-&gt;data+0x3fff0 
0x5555567cadf0: 0xea    0x5b    0xe0    0x00    0xf0</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f48357432e0484762300-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432e0484762300-2">2</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f48357432e0484762300-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">x</span>/<span class="crayon-cn">5xb</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">Rom*</span><span class="crayon-sy">)</span><span class="crayon-cn">0x5555563d6ac0</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">data</span>+<span class="crayon-cn">0x3fff0</span><span class="crayon-h"> </span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432e0484762300-2">
<span class="crayon-cn">0x5555567cadf0</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-cn">0xea</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0x5b</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0xe0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0x00</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0xf0</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>Note that 0x3fff0 is the offset to the BIOS image entry point, and what we are seeing there are the bytes that belong to the first instruction.</p>
<p><em>pc.bios</em> RAM block before copy:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432e8033958267" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) x/5xb ((MemoryRegion*)0x55555622ee00)-&gt;ram_block-&gt;host+0x3fff0                                                                                                                 
0x7fffd7c3fff0: 0x00    0x00    0x00    0x00    0x00</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f48357432e8033958267-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432e8033958267-2">2</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f48357432e8033958267-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">x</span>/<span class="crayon-cn">5xb</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">MemoryRegion*</span><span class="crayon-sy">)</span><span class="crayon-cn">0x55555622ee00</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">ram_block</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">host</span>+<span class="crayon-cn">0x3fff0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432e8033958267-2">
<span class="crayon-cn">0x7fffd7c3fff0</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-cn">0x00</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0x00</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0x00</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0x00</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0x00</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p><em>pc.bios</em> RAM block after copy:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432ea684151714" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) x/5xb ((MemoryRegion*)0x55555622ee00)-&gt;ram_block-&gt;host+0x3fff0                                                                                          
0x7fffd7c3fff0: 0xea    0x5b    0xe0    0x00    0xf0</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f48357432ea684151714-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432ea684151714-2">2</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f48357432ea684151714-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">x</span>/<span class="crayon-cn">5xb</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">MemoryRegion*</span><span class="crayon-sy">)</span><span class="crayon-cn">0x55555622ee00</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">ram_block</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">host</span>+<span class="crayon-cn">0x3fff0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432ea684151714-2">
<span class="crayon-cn">0x7fffd7c3fff0</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-cn">0xea</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0x5b</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0xe0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0x00</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0xf0</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>The only pointer to the <em>pc.bios</em> RAM chunk is in <em>&amp;(ram_block-&gt;host)</em>. If 0xfffffff0 is ever translated to a host memory address, that pointer has to be read. If the bytes from the first instruction are ever retrieved, <em>&amp;(ram_block-&gt;host+0x3fff0)</em> has to be read too. We will set memory breakpoints in both locations and see what happens.</p>
<p>The memory breakpoint in <em>&amp;(ram_block-&gt;host)</em> is hit first, within <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/accel/tcg/cputlb.c#L748">tlb_set_page_with_attrs</a>. The call stack gives us an idea of how we got there. Before starting a new Translation Block for 0xfffffff0 <em>emu-phy-address</em>, a lookup on a hash table is done to check if one has been already generated (see <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/accel/tcg/cpu-exec.c#L325">tb_htable_lookup</a>). The host address that corresponds to the <em>emu-phy-address</em> looked up is used as part of the key hash. As a result, 0xfffffff0 needs to be converted -for the first time- into a host address (see <em><a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/accel/tcg/cputlb.c#L1023">get_page_addr_code</a></em>).</p>
<p>Mimicking real MMUs, there is a cache scheme provided by a TLB software implementation. <em>get_page_addr_code</em> will try to get the host address from the TLB, and receives two parameters to accomplish that: a pointer to the CPU state (<a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/target/i386/cpu.h#L1148">CPUX86State</a>) and the <em>emu-phy-address</em> to be looked up (0xfffffff0). The first step is to obtain a pointer to the CPU&#8217;s <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/cpu-defs.h#L218">CPUTLB</a> instance, which contains all the TLB information. CPUX86State is a structure within an enclosing <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/target/i386/cpu.h#L1404">X86CPU</a> one. Thus, we can obtain a pointer to X86CPU from the one we have to CPUX86State by subtracting its offset:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432ec032064860" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) print/x (((X86CPU*)(((char*)env) - (size_t)(&amp;(((X86CPU*)0)-&gt;env))))) 
$10 = 0x555556656400</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f48357432ec032064860-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432ec032064860-2">2</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f48357432ec032064860-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">print</span>/<span class="crayon-e">x</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">X86CPU*</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-t">char</span>*<span class="crayon-sy">)</span><span class="crayon-i">env</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>-<span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">size_t</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span>&<span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">X86CPU*</span><span class="crayon-sy">)</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">env</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432ec032064860-2">
<span class="crayon-sy">$</span><span class="crayon-cn">10</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0x555556656400</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>Once we have a X86CPU pointer we can navigate to its CPUTLB:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432ef828231674" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) print/x &amp;(((X86CPU*)0x555556656400)-&gt;neg-&gt;tlb)
$13 = 0x55555665e6c0</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f48357432ef828231674-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432ef828231674-2">2</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f48357432ef828231674-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">print</span>/<span class="crayon-i">x</span><span class="crayon-h"> </span>&<span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">X86CPU*</span><span class="crayon-sy">)</span><span class="crayon-cn">0x555556656400</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">neg</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">tlb</span><span class="crayon-sy">)</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432ef828231674-2">
<span class="crayon-sy">$</span><span class="crayon-cn">13</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0x55555665e6c0</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>In CPUTLB we find two sets of tables with different information, intended for fast and slow access -this is a common pattern to avoid polluting the CPU cache rows with information not frequently needed-. Each set has 3 MMU tables in i386: MMU_USER (for non-privileged mode), MMU_KSMAP (for privileged mode with <a href="https://en.wikipedia.org/wiki/Supervisor_Mode_Access_Prevention">SMAP</a> protection) and MMU_KNOSMAP (for privileged mode without SMAP). MMU_KNOSMAP is used in <em>real mode</em>, as we are now.</p>
<p>Finally we got to the fast-access MMU_KNOSMAP table container: <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/cpu-defs.h#L183">CPUTLBDescFast</a>. This container consists of a <em>mask</em> and a <em>table</em> of <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/cpu-defs.h#L110">CPUTLBEntry</a> entries. Each entry has an <em>address</em> (different values for read, write and execute access) and an <em>addend</em>. If a TLB entry exists for a looked up address, its host counterpart can be obtained by adding the <em>addend</em> to it.</p>
<p>Let&#8217;s see what we have there:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432f1032581891" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) print/x (((X86CPU*)0x555556656400)-&gt;neg-&gt;tlb-&gt;f[2].mask)
$15 = 0x1fe0
(gdb) print *(((X86CPU*)0x555556656400)-&gt;neg-&gt;tlb-&gt;f[2].table) 
$17 = {{{addr_read = 18446744073709551615, addr_write = 18446744073709551615, addr_code = 18446744073709551615, addend = 18446744073709551615}, dummy = '\377' &lt;repeats 32 times&gt;}}</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f48357432f1032581891-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432f1032581891-2">2</div>
<div class="crayon-num" data-line="crayon-68f48357432f1032581891-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432f1032581891-4">4</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f48357432f1032581891-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">print</span>/<span class="crayon-e">x</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">X86CPU*</span><span class="crayon-sy">)</span><span class="crayon-cn">0x555556656400</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">neg</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">tlb</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">f</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-i">mask</span><span class="crayon-sy">)</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432f1032581891-2">
<span class="crayon-sy">$</span><span class="crayon-cn">15</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0x1fe0</span>
</div>
<div class="crayon-line" id="crayon-68f48357432f1032581891-3">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e ">print *</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">X86CPU*</span><span class="crayon-sy">)</span><span class="crayon-cn">0x555556656400</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">neg</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">tlb</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">f</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-i">table</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432f1032581891-4">
<span class="crayon-sy">$</span><span class="crayon-cn">17</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-i">addr_read</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">18446744073709551615</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">addr_write</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">18446744073709551615</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">addr_code</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">18446744073709551615</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">addend</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">18446744073709551615</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">dummy</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-s">'\377'</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span><span class="crayon-i">repeats</span><span class="crayon-h"> </span><span class="crayon-cn">32</span><span class="crayon-h"> </span><span class="crayon-i">times</span><span class="crayon-h">&gt;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>Seems like the first entry in the table is not valid (all bytes set to 0xff). But, is that entry the one that corresponds to 0xfffffff0 <em>emu-phy-address</em>? To get the exact index into the table, we need to do:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432f3852918702" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(emu-phy-address &gt;&gt; TARGET_PAGE_BITS) &amp; (mask &gt;&gt; CPU_TLB_ENTRY_BITS)</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-68f48357432f3852918702-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68f48357432f3852918702-1">
<span class="crayon-sy">(</span><span class="crayon-i">emu</span>-<span class="crayon-i">phy</span>-<span class="crayon-i">address</span> <span class="crayon-h">&gt;</span><span class="crayon-h">&gt;</span><span class="crayon-h"> </span><span class="crayon-i">TARGET_PAGE_BITS</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>&<span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">mask</span><span class="crayon-h"> </span><span class="crayon-h">&gt;</span><span class="crayon-h">&gt;</span><span class="crayon-h"> </span><span class="crayon-i">CPU_TLB_ENTRY_BITS</span><span class="crayon-sy">)</span>
</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>For 4096 bytes pages (TARGET_PAGE_BITS = 12) and a 0xfffffff0 <em>emu-phy-address</em>, the first term is 0xfffff. The second term is 0x1fe0 (<em>mask</em>) &gt;&gt; 5 (CPU_TLB_ENTRY_BITS = 5) = 0xff. The resulting entry <em>index</em> is 0xff.</p>
<p>Each entry on the table is sizeof(CPUTLBEntry) = 32 bytes long. We can now read the right entry by adding <em>index</em> * sizeof(CPUTLBEntry) to the <em>table</em> pointer:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432f6151562016" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) print *(CPUTLBEntry*)((char*)(((X86CPU*)0x555556656400)-&gt;neg-&gt;tlb-&gt;f[2].table)+(32*0xff))
$28 = {{{addr_read = 18446744073709551615, addr_write = 18446744073709551615, addr_code = 18446744073709551615, addend = 18446744073709551615}, dummy = '\377' &lt;repeats 32 times&gt;}}</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f48357432f6151562016-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432f6151562016-2">2</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f48357432f6151562016-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e ">print *</span><span class="crayon-sy">(</span><span class="crayon-e ">CPUTLBEntry*</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-t">char</span>*<span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">X86CPU*</span><span class="crayon-sy">)</span><span class="crayon-cn">0x555556656400</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">neg</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">tlb</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">f</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-i">table</span><span class="crayon-sy">)</span>+<span class="crayon-sy">(</span><span class="crayon-cn">32</span>*<span class="crayon-cn">0xff</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432f6151562016-2">
<span class="crayon-sy">$</span><span class="crayon-cn">28</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-i">addr_read</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">18446744073709551615</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">addr_write</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">18446744073709551615</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">addr_code</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">18446744073709551615</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">addend</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">18446744073709551615</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">dummy</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-s">'\377'</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span><span class="crayon-i">repeats</span><span class="crayon-h"> </span><span class="crayon-cn">32</span><span class="crayon-h"> </span><span class="crayon-i">times</span><span class="crayon-h">&gt;</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>The entry for 0xfffffff0 looks still invalid. For an entry to be valid, <em>entry-address</em> &amp; (TARGET_PAGE_MASK | TLB_INVALID_MASK) must be equal to the <em>looked-up-address</em> &amp; TARGET_PAGE_MASK. That is a simple comparison at page-aligned addresses, with a catch indicated by TLB_INVALID_MASK. The reason for this catch is disambiguation between valid and invalid entries. If TLB_INVALID_MASK were not used, a TLB entry whose <em>entry-address</em> is 0xFFFFFFFFFFFFFFFF could be considered valid when compared to a 0xFFFFFFFFFFFFFFF0 <em>looked-up-address</em> (0xFFFFFFFFFFFFF000 == 0xFFFFFFFFFFFFF000). When TLB_INVALID_MASK is part of the mask, the &#8216;TARGET_PAGE_BITS &#8211; 1&#8217; bit in its term will be 1 for an invalid address and 0 for a valid one. If it is 1, there cannot be a match against the <em>looked-up-address</em> &amp; TARGET_PAGE_MASK term because lower bits there are 0 for page alignment. The previous invalid case ends up being 0xFFFFFFFFFFFFF800 != 0xFFFFFFFFFFFFF000.</p>
<p>There is an observation that I want to stress before moving on: TLB translations occur at a page level. This means that translations for addresses in the range 0xfffff000 &#8211; 0xffffffff will all be handled by the same TLB entry.</p>
<p>A few pointers to the code that finds the current CPU&#8217;s MMU table, the TLB entry for a looked-up address and decides whether or not it is valid:</p>
<ul>
<li><a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/target/i386/cpu.h#L1743">cpu_mmu_index</a></li>
<li><a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/cpu_ldst.h#L163">tlb_index</a></li>
<li><a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/cpu_ldst.h#L177">tlb_entry</a></li>
<li><a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/cpu-all.h#L359">tlb_hit</a></li>
<li><a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/cpu-all.h#L348">tlb_hit_page</a></li>
</ul>
<p>All these functions are used by <em>get_page_addr_code</em>. After verifying that the TLB entry for 0xfffffff0 is not valid, <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/target/i386/excp_helper.c#L676">x86_cpu_tlb_fill</a> and <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/target/i386/excp_helper.c#L349">handle_mmu_fault</a> are called.</p>
<p>In an x86 CPU operating in <em>protected mode</em>, the PG bit from the CR0 register will indicate that pagination is enabled. That means that the Page Tables, pointed by CR3, need to be navigated to find a proper mapping -if there is one- or signal a <em>page fault</em>. However, our CPU is in <em>real mode</em> and pagination is disabled: we jump pretty quickly to <em><a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/target/i386/excp_helper.c#L632">do_mapping</a></em>.</p>
<p><em>do_mapping</em> calculates a few values which are then passed to <em>tlb_set_page_with_attrs</em>. When in <em>real mode</em>, and going back to our 0xfffffff0 case, these values are pretty straight forward:</p>
<ul>
<li>vaddr = 0xfffff000</li>
<li>paddr = 0xfffff000</li>
<li>prot = PAGE_READ | PAGE_WRITE | PAGE_EXEC</li>
<li>mmu_idx = MMU_KNOSMAP (0x2)</li>
<li>page_size = 4096</li>
</ul>
<p>I won&#8217;t go into every <em>tlb_set_page_with_attrs</em> detail while creating and appending the TLB entry to the table, but want to mention how the entry&#8217;s <em>addend</em> is determined and how it relates to the <em>pc.bios</em> Memory Region.</p>
<p>To locate the <em>pc.bios</em> Memory Region starting from a CPUX86State instance, the following calls are performed:</p>
<ul>
<li>
<a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/exec.c#L721"><em>address_space_translate_for_iotlb</em></a>
<ul>
<li>
<a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/exec.c#L411"><em>address_space_translate_internal</em></a>
<ul>
<li><a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/exec.c#L391">address_space_lookup_region</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>From a CPUX86State instance we reach a <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/exec.c#L177"><em>struct AddressSpaceDispatch</em></a> one. The latter contains a <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/exec.c#L166">PhysPageMap</a> map, which has a table of <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/memory.h#L489">MemoryRegionSection</a> entries. Each of these entries refer to a fragment within a Memory Region. Using those structures, <em>address_space_lookup_region</em> finds the <em>MemoryRegionSection</em> instance that corresponds to the 0xfffff000 <em>emu-phy-address</em>.</p>
<p>A few definitions now:</p>
<ul>
<li>
<em>section</em> is the <em>MemoryRegionSection</em> instance found for 0xfffff000 (belonging to the <em>pc.bios</em> Memory Region)</li>
<li>
<em>section-&gt;mr</em> points to the <em>pc.bios</em> Memory Region</li>
<li>
<em>vaddr_page</em> is <em>vaddr</em> &amp; TARGET_PAGE_MASK = 0xfffff000 &amp; 0xfffffffffffff000 = 0xfffff000</li>
<li>
<em>paddr_page</em> is paddr &amp; TARGET_PAGE_MASK = 0xfffff000 &amp; 0xfffffffffffff000 = 0xfffff000</li>
</ul>
<p>The TLB entry <em>addend</em> for 0xfffff000 is calculated as follows:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432f8183035698" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
xlat = (paddr_page - section-&gt;offset_within_address_space) + section-&gt;offset_within_region

addend = section-&gt;mr-&gt;ram_block-&gt;host + xlat - vaddr_page</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f48357432f8183035698-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432f8183035698-2">2</div>
<div class="crayon-num" data-line="crayon-68f48357432f8183035698-3">3</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f48357432f8183035698-1">
<span class="crayon-i">xlat</span><span class="crayon-h"> </span>= <span class="crayon-sy">(</span><span class="crayon-i">paddr_page</span><span class="crayon-h"> </span>-<span class="crayon-h"> </span><span class="crayon-i">section</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">offset_within_address_space</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>+<span class="crayon-h"> </span><span class="crayon-i">section</span>-<span class="crayon-h">&gt;</span><span class="crayon-e">offset_within_region</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432f8183035698-2">&nbsp;</div>
<div class="crayon-line" id="crayon-68f48357432f8183035698-3">
<span class="crayon-i">addend</span><span class="crayon-h"> </span>= <span class="crayon-i">section</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">mr</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">ram_block</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">host</span><span class="crayon-h"> </span>+ <span class="crayon-i">xlat</span><span class="crayon-h"> </span>-<span class="crayon-h"> </span><span class="crayon-i">vaddr_page</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>In <em>real mode</em>, <em>paddr_page</em> and <em>vaddr_page</em> are the same value and can be removed leading to a simpler equation:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432fb961941900" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
addend = section-&gt;mr-&gt;ram_block-&gt;host - section-&gt;offset_within_address_space + section-&gt;offset_within_region</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-68f48357432fb961941900-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-68f48357432fb961941900-1">
<span class="crayon-i">addend</span><span class="crayon-h"> </span>= <span class="crayon-i">section</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">mr</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">ram_block</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">host</span><span class="crayon-h"> </span>-<span class="crayon-h"> </span><span class="crayon-i">section</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">offset_within_address_space</span><span class="crayon-h"> </span>+<span class="crayon-h"> </span><span class="crayon-i">section</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">offset_within_region</span>
</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p><em>section-&gt;offset_within_address_space</em> is an offset to the start of the Memory Region in terms of <em>emu-phy-addresses</em>. When a region is an alias of a canonical one, <em>section-&gt;mr</em> points to the canonical region and <em>section-&gt;offset_within_region</em> is the alias offset within it.</p>
<p>Let&#8217;s see this in numbers:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432fd317474332" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) print *(MemoryRegionSection*)$rax 
$3 = {size = 262144, mr = 0x55555622ee00, fv = 0x55555773c270, offset_within_region = 0, offset_within_address_space = 4294705152, readonly = true, nonvolatile = false}
(gdb) print/x paddr_page
$5 = 0xfffff000
(gdb) print/x ((MemoryRegionSection*)$rax)-&gt;offset_within_address_space
$6 = 0xfffc0000
(gdb) print/x ((MemoryRegionSection*)$rax)-&gt;offset_within_region       
$7 = 0x0
(gdb) print/x ((MemoryRegionSection*)$rax)-&gt;mr-&gt;ram_block-&gt;host  
$8 = 0x7fffd7c00000</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f48357432fd317474332-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432fd317474332-2">2</div>
<div class="crayon-num" data-line="crayon-68f48357432fd317474332-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432fd317474332-4">4</div>
<div class="crayon-num" data-line="crayon-68f48357432fd317474332-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432fd317474332-6">6</div>
<div class="crayon-num" data-line="crayon-68f48357432fd317474332-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432fd317474332-8">8</div>
<div class="crayon-num" data-line="crayon-68f48357432fd317474332-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432fd317474332-10">10</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f48357432fd317474332-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e ">print *</span><span class="crayon-sy">(</span><span class="crayon-e ">MemoryRegionSection*</span><span class="crayon-sy">)</span><span class="crayon-sy">$</span><span class="crayon-i">rax</span><span class="crayon-h"> </span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432fd317474332-2">
<span class="crayon-sy">$</span><span class="crayon-cn">3</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-i">size</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">262144</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">mr</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0x55555622ee00</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">fv</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0x55555773c270</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">offset_within_region</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">offset_within_address_space</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">4294705152</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">readonly</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">nonvolatile</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">}</span>
</div>
<div class="crayon-line" id="crayon-68f48357432fd317474332-3">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">print</span>/<span class="crayon-i">x</span><span class="crayon-h"> </span><span class="crayon-i">paddr_page</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432fd317474332-4">
<span class="crayon-sy">$</span><span class="crayon-cn">5</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0xfffff000</span>
</div>
<div class="crayon-line" id="crayon-68f48357432fd317474332-5">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">print</span>/<span class="crayon-e">x</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">MemoryRegionSection*</span><span class="crayon-sy">)</span><span class="crayon-sy">$</span><span class="crayon-i">rax</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">offset_within_address_space</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432fd317474332-6">
<span class="crayon-sy">$</span><span class="crayon-cn">6</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0xfffc0000</span>
</div>
<div class="crayon-line" id="crayon-68f48357432fd317474332-7">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">print</span>/<span class="crayon-e">x</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">MemoryRegionSection*</span><span class="crayon-sy">)</span><span class="crayon-sy">$</span><span class="crayon-i">rax</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">offset_within_region</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432fd317474332-8">
<span class="crayon-sy">$</span><span class="crayon-cn">7</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0x0</span>
</div>
<div class="crayon-line" id="crayon-68f48357432fd317474332-9">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">print</span>/<span class="crayon-e">x</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e ">MemoryRegionSection*</span><span class="crayon-sy">)</span><span class="crayon-sy">$</span><span class="crayon-i">rax</span><span class="crayon-sy">)</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">mr</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">ram_block</span>-<span class="crayon-h">&gt;</span><span class="crayon-i">host</span><span class="crayon-h">&nbsp;&nbsp;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432fd317474332-10">
<span class="crayon-sy">$</span><span class="crayon-cn">8</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0x7fffd7c00000</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p><small>(*) RAX register is <em>section</em>.</small></p>
<p><em>addend</em> is then 0x7fffd7c00000 &#8211; 0xfffc0000 = 0x7ffed7c40000</p>
<p>Now that we have the <em>addend</em>, a simple sanity check can be applied: TLB&#8217;s <em>addend</em> + 0xfffffff0 <em>emu-phy-address</em> must contain the first BIOS instruction in host&#8217;s memory:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f48357432fe341939413" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) x/5xb 0x7ffed7c40000 + 0xfffffff0
0x7fffd7c3fff0: 0xea    0x5b    0xe0    0x00    0xf0</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f48357432fe341939413-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f48357432fe341939413-2">2</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f48357432fe341939413-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">x</span>/<span class="crayon-cn">5xb</span><span class="crayon-h"> </span><span class="crayon-cn">0x7ffed7c40000</span><span class="crayon-h"> </span>+<span class="crayon-h"> </span><span class="crayon-cn">0xfffffff0</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f48357432fe341939413-2">
<span class="crayon-cn">0x7fffd7c3fff0</span><span class="crayon-sy">:</span><span class="crayon-h"> </span><span class="crayon-cn">0xea</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0x5b</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0xe0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0x00</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0xf0</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>We got it right! With TLB entry for 0xfffffff0 filled, the Translation Block generation proceeds -an existing one was obviously not found-.</p>
<p>Calculating the <em>addend</em> looks a bit convoluted but it&#8217;s easier when focusing on our <em>pc.bios</em> case only. We want to add a fixed number to an <em>emu-phy-address</em> and get a host address, because that would be a fast and efficient translation strategy. If the <em>pc.bios</em> Memory Region starts at 0xfffc0000 and its <em>ram_block</em> is located at 0x7fffd7c00000, then we have a simple equation for the first region <em>emu-phy-address</em>: 0x7fffd7c00000 = <em>addend</em> + 0xfffc0000. As a result, <em>addend</em> has to be 0x7ffed7c40000 for any <em>emu-phy-address</em> that belongs to <em>pc.bios</em>.</p>
<p>Complexity comes to handle Memory Region alias cases. <em>isa-bus</em> (starting at 0xe0000) is an alias to the last 128 KB of <em>pc.bios</em>. The offset to the BIOS entry point, in <em>isa-bios</em> range, is 0x1fff0. This means that 0xffff0 (0xe0000 + 0x1fff0) is an <em>emu-phy-address</em> within the <em>isa-bus</em> range that maps to the same host address than 0xfffffff0: 0x7fffd7c3fff0. Intuitively, 0x7fffd7c3fff0 = <em>isa-bus-addend</em> + 0xffff0; so <em>isa-bus-addend</em> must be 0x7fffd7b40000.</p>
<p>Let&#8217;s independently verify that. <em>section-&gt;offset_within_address_space</em> is 0xe0000 because that is the <em>isa-bus</em> start address. <em>section-&gt;offset_within_region</em> is 0x20000 because that&#8217;s the offset of <em>isa-bus</em> within <em>pc.bios</em>. Going back to the simplified <em>addend</em> equation, we have: <em>addend</em> = 0x7fffd7c00000 &#8211; 0xe0000 +0x20000 = 0x7fffd7b40000.</p>
<p>After this detour, we continue execution. The memory breakpoint set in the address containing the BIOS entry point instruction is hit within <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/include/exec/cpu_ldst_template.h#L79"><em>cpu_ldub_kernel_ra</em></a>. Looks like this function received a 0xfffffff0 <em>emu-phy-address</em> in its<em> target_ulong ptr</em> parameter. Hard to check with the debugger due to severe inlining:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f4835743301954486451" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) x/1i $rip 
=&gt; 0x555555968fa3 &lt;disas_insn+307&gt;:     mov    %r10d,%edx
(gdb) print/x $r10d
$2 = 0xea</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f4835743301954486451-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f4835743301954486451-2">2</div>
<div class="crayon-num" data-line="crayon-68f4835743301954486451-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f4835743301954486451-4">4</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f4835743301954486451-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">x</span>/<span class="crayon-cn">1i</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">rip</span><span class="crayon-h"> </span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f4835743301954486451-2">=<span class="crayon-h">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0x555555968fa3</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span><span class="crayon-i">disas_insn</span>+<span class="crayon-cn">307</span><span class="crayon-h">&gt;</span><span class="crayon-sy">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">mov</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">%</span><span class="crayon-i">r10d</span><span class="crayon-sy">,</span><span class="crayon-sy">%</span><span class="crayon-e">edx</span>
</div>
<div class="crayon-line" id="crayon-68f4835743301954486451-3">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">print</span>/<span class="crayon-i">x</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">r10d</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f4835743301954486451-4">
<span class="crayon-sy">$</span><span class="crayon-cn">2</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0xea</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>For those a bit lazy -like me!- who don&#8217;t want to recompile QEMU disabling inlining in <em>cpu_ldub_kernel_ra</em>, some reverse engineering should be enough to fill in the blanks. We are in <em>disas_insn+307</em> and <em>r10d</em> contains the first byte of the entry point instruction. Let&#8217;s look a bit backwards:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-68f4835743303321264991" class="crayon-syntax crayon-theme-classic crayon-font-monospace crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-always wrap" style="margin-top: 12px; margin-bottom: 12px; font-size: 16px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 16px !important;height: 24px !important; line-height: 24px !important;">
<div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div>
<div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div>
</div>
</div>
			<div class="crayon-info" style="min-height: 22.4px !important; line-height: 22.4px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 16px !important; line-height: 20px !important;">
(gdb) disas disas_insn
   ...
   0x0000555555968f29 &lt;+185&gt;:	callq  0x55555595cd60 &lt;advance_pc&gt;
   0x0000555555968f2e &lt;+190&gt;:	mov    $0x1,%r8d
   0x0000555555968f34 &lt;+196&gt;:	mov    %rax,%rsi
   ...
   0x0000555555968f9e &lt;+302&gt;:	movzbl (%rax,%rsi,1),%r10d
=&gt; 0x0000555555968fa3 &lt;+307&gt;:	mov    %r10d,%edx
(gdb) print/x $rsi
$4 = 0xfffffff0</textarea></div>
			<div class="crayon-main">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 16px !important; line-height: 20px !important;">
<div class="crayon-num" data-line="crayon-68f4835743303321264991-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f4835743303321264991-2">2</div>
<div class="crayon-num" data-line="crayon-68f4835743303321264991-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f4835743303321264991-4">4</div>
<div class="crayon-num" data-line="crayon-68f4835743303321264991-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f4835743303321264991-6">6</div>
<div class="crayon-num" data-line="crayon-68f4835743303321264991-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f4835743303321264991-8">8</div>
<div class="crayon-num" data-line="crayon-68f4835743303321264991-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="crayon-68f4835743303321264991-10">10</div>
</div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 16px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="crayon-68f4835743303321264991-1">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">disas </span><span class="crayon-i">disas_insn</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f4835743303321264991-2">
<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span>
</div>
<div class="crayon-line" id="crayon-68f4835743303321264991-3">
<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0x0000555555968f29</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span>+<span class="crayon-cn">185</span><span class="crayon-h">&gt;</span><span class="crayon-sy">:</span><span class="crayon-h">	</span><span class="crayon-i">callq</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">0x55555595cd60</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span><span class="crayon-i">advance_pc</span><span class="crayon-h">&gt;</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f4835743303321264991-4">
<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0x0000555555968f2e</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span>+<span class="crayon-cn">190</span><span class="crayon-h">&gt;</span><span class="crayon-sy">:</span><span class="crayon-h">	</span><span class="crayon-i">mov</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">$</span><span class="crayon-cn">0x1</span><span class="crayon-sy">,</span><span class="crayon-sy">%</span><span class="crayon-i">r8d</span>
</div>
<div class="crayon-line" id="crayon-68f4835743303321264991-5">
<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0x0000555555968f34</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span>+<span class="crayon-cn">196</span><span class="crayon-h">&gt;</span><span class="crayon-sy">:</span><span class="crayon-h">	</span><span class="crayon-i">mov</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">%</span><span class="crayon-i">rax</span><span class="crayon-sy">,</span><span class="crayon-sy">%</span><span class="crayon-i">rsi</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f4835743303321264991-6">
<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span>
</div>
<div class="crayon-line" id="crayon-68f4835743303321264991-7">
<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0x0000555555968f9e</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span>+<span class="crayon-cn">302</span><span class="crayon-h">&gt;</span><span class="crayon-sy">:</span><span class="crayon-h">	</span><span class="crayon-e">movzbl</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">%</span><span class="crayon-i">rax</span><span class="crayon-sy">,</span><span class="crayon-sy">%</span><span class="crayon-i">rsi</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-sy">%</span><span class="crayon-i">r10d</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f4835743303321264991-8">=<span class="crayon-h">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0x0000555555968fa3</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span>+<span class="crayon-cn">307</span><span class="crayon-h">&gt;</span><span class="crayon-sy">:</span><span class="crayon-h">	</span><span class="crayon-i">mov</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">%</span><span class="crayon-i">r10d</span><span class="crayon-sy">,</span><span class="crayon-sy">%</span><span class="crayon-e">edx</span>
</div>
<div class="crayon-line" id="crayon-68f4835743303321264991-9">
<span class="crayon-sy">(</span><span class="crayon-i">gdb</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-i">print</span>/<span class="crayon-i">x</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">rsi</span>
</div>
<div class="crayon-line crayon-striped-line" id="crayon-68f4835743303321264991-10">
<span class="crayon-sy">$</span><span class="crayon-cn">4</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0xfffffff0</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>The RSI register has a 0xfffffff0 <em>emu-phy-address</em> and is the result of calling <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/target/i386/translate.c#L1904"><em>advance_pc</em></a>. If we analyze <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/target/i386/translate.c#L4486"><em>disas_insn</em></a> source code and in particular the <a href="https://github.com/qemu/qemu/blob/99c5874a9b6c9f70aef285d6eff85d4f46de3c52/target/i386/translate.c#L1926">first call to <em>advance_pc</em></a>, it&#8217;s now evident that RSI has the <em>target_ulong ptr</em> parameter value. Anecdotally, the inlined <em>cpu_ldub_kernel_ra</em> code goes between <em>disas_insn+190</em> and <em>disas_insn+307</em>, with a few additional instructions between <em>disas_insn+1328</em> and <em>disas_insn+1347</em>.</p>
<p>A TLB lookup procedure is initiated in <em>disas_insn+190</em>; similar to the one previously described but this time we have a TLB hit for 0xfffffff0. Execution continues with the retrieval of the BIOS entry point instruction and the generation of a Translation Block.</p>
	</div>
<!-- .entry-content -->

	<footer class="entry-footer"><span class="cat-tags-links"><span class="cat-links"><svg class="icon icon-folder-open" aria-hidden="true" role="img"> <use href="#icon-folder-open" xlink:href="#icon-folder-open"></use> </svg><span class="screen-reader-text">Categories</span><a href="./../category/qemu/index.html" rel="category tag">QEMU</a></span></span></footer> <!-- .entry-footer -->
</article><!-- #post-## -->

<div id="comments" class="comments-area">

	
</div>
<!-- #comments -->

	<nav class="navigation post-navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links">
<div class="nav-previous"><a href="./../bios-execution-in-qemu-where-it-all-starts/index.html" rel="prev"><span class="screen-reader-text">Previous Post</span><span aria-hidden="true" class="nav-subtitle">Previous</span> <span class="nav-title"><span class="nav-title-icon-wrapper"><svg class="icon icon-arrow-left" aria-hidden="true" role="img"> <use href="#icon-arrow-left" xlink:href="#icon-arrow-left"></use> </svg></span>BIOS execution in QEMU: where it all starts</span></a></div>
<div class="nav-next"><a href="./../signal-exceptions-talk-at-netlabs-spanish/index.html" rel="next"><span class="screen-reader-text">Next Post</span><span aria-hidden="true" class="nav-subtitle">Next</span> <span class="nav-title">Signal Exceptions talk at netlabs (Spanish)<span class="nav-title-icon-wrapper"><svg class="icon icon-arrow-right" aria-hidden="true" role="img"> <use href="#icon-arrow-right" xlink:href="#icon-arrow-right"></use> </svg></span></span></a></div>
</div>
	</nav>
		</main><!-- #main -->
	</div>
<!-- #primary -->
	
<aside id="secondary" class="widget-area" role="complementary">
	<section id="pages-3" class="widget widget_pages"><h2 class="widget-title">Pages</h2>
			<ul>
				<li class="page_item page-item-2 page_item_has_children">
<a href="./../about/index.html">About</a>
<ul class="children">
	<li class="page_item page-item-1130"><a href="./../about/cafe/index.html">Martin&#8217;s Cafe</a></li>
	<li class="page_item page-item-1001"><a href="./../about/pgp/index.html">PGP</a></li>
	<li class="page_item page-item-1413"><a href="./../about/sites/index.html">Sites</a></li>
</ul>
</li>
<li class="page_item page-item-9 page_item_has_children">
<a href="./../projects/index.html">Projects</a>
<ul class="children">
	<li class="page_item page-item-136"><a href="./../projects/open-source-study-group/index.html">Open Source Study Group</a></li>
	<li class="page_item page-item-105"><a href="./../projects/reverse-engineering/index.html">Reverse Engineering</a></li>
</ul>
</li>
			</ul>

			</section><section id="categories-2" class="widget widget_categories"><h2 class="widget-title">Categories</h2>
			<ul>
					<li class="cat-item cat-item-4">
<a href="./../category/gnu-toolchain/index.html">GNU Toolchain</a>
</li>
	<li class="cat-item cat-item-3">
<a href="./../category/linux/index.html">Linux</a>
</li>
	<li class="cat-item cat-item-2">
<a href="./../category/linux-kernel/index.html">Linux kernel</a>
</li>
	<li class="cat-item cat-item-7">
<a href="./../category/openjdk/index.html">OpenJDK</a>
</li>
	<li class="cat-item cat-item-5">
<a href="./../category/other/index.html">Other</a>
</li>
	<li class="cat-item cat-item-8">
<a href="./../category/qemu/index.html">QEMU</a>
</li>
			</ul>

			</section><section id="search-2" class="widget widget_search">

<form role="search" method="get" class="search-form" action=".//">
	<label for="search-form-68f483574d162">
		<span class="screen-reader-text">Search for:</span>
	</label>
	<input type="search" id="search-form-68f483574d162" class="search-field" placeholder="Search &hellip;" value="" name="s">
	<button type="submit" class="search-submit"><svg class="icon icon-search" aria-hidden="true" role="img"> <use href="#icon-search" xlink:href="#icon-search"></use> </svg><span class="screen-reader-text">Search</span></button>
</form>
</section></aside><!-- #secondary -->
</div>
<!-- .wrap -->


		</div>
<!-- #content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
			<div class="wrap">
				
<div class="site-info">
	<span><a href="https://wordpress.org/">Powered by WordPress</a> | This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a></span> <img src="./../../images/cc-by-sa.png"> <span>| <a href="./../about/sites/index.html">Since 2007</a>.</span>
</div>
<!-- .site-info -->
			</div>
<!-- .wrap -->
		</footer><!-- #colophon -->
	</div>
<!-- .site-content-contain -->
</div>
<!-- #page -->
<script type="text/javascript" id="twentyseventeen-skip-link-focus-fix-js-extra">
/* <![CDATA[ */
var twentyseventeenScreenReaderText = {"quote":"<svg class=\"icon icon-quote-right\" aria-hidden=\"true\" role=\"img\"> <use href=\"#icon-quote-right\" xlink:href=\"#icon-quote-right\"><\/use> <\/svg>"};
/* ]]> */
</script>
<script type="text/javascript" src="./../wp-content/themes/twentyseventeen/assets/js/skip-link-focus-fix.js?ver=1.0" id="twentyseventeen-skip-link-focus-fix-js"></script>
<script type="text/javascript" src="./../wp-content/themes/twentyseventeen/assets/js/global.js?ver=1.0" id="twentyseventeen-global-js"></script>
<script type="text/javascript" src="./../wp-content/themes/twentyseventeen/assets/js/jquery.scrollTo.js?ver=2.1.2" id="jquery-scrollto-js"></script>
<script type="text/javascript" src="./../wp-includes/js/comment-reply.min.js?ver=6.7.4" id="comment-reply-js" async="async" data-wp-strategy="async"></script>
<svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<symbol id="icon-behance" viewbox="0 0 37 32">
<path class="path1" d="M33 6.054h-9.125v2.214h9.125v-2.214zM28.5 13.661q-1.607 0-2.607 0.938t-1.107 2.545h7.286q-0.321-3.482-3.571-3.482zM28.786 24.107q1.125 0 2.179-0.571t1.357-1.554h3.946q-1.786 5.482-7.625 5.482-3.821 0-6.080-2.357t-2.259-6.196q0-3.714 2.33-6.17t6.009-2.455q2.464 0 4.295 1.214t2.732 3.196 0.902 4.429q0 0.304-0.036 0.839h-11.75q0 1.982 1.027 3.063t2.973 1.080zM4.946 23.214h5.286q3.661 0 3.661-2.982 0-3.214-3.554-3.214h-5.393v6.196zM4.946 13.625h5.018q1.393 0 2.205-0.652t0.813-2.027q0-2.571-3.393-2.571h-4.643v5.25zM0 4.536h10.607q1.554 0 2.768 0.25t2.259 0.848 1.607 1.723 0.563 2.75q0 3.232-3.071 4.696 2.036 0.571 3.071 2.054t1.036 3.643q0 1.339-0.438 2.438t-1.179 1.848-1.759 1.268-2.161 0.75-2.393 0.232h-10.911v-22.5z"></path>
</symbol>
<symbol id="icon-deviantart" viewbox="0 0 18 32">
<path class="path1" d="M18.286 5.411l-5.411 10.393 0.429 0.554h4.982v7.411h-9.054l-0.786 0.536-2.536 4.875-0.536 0.536h-5.375v-5.411l5.411-10.411-0.429-0.536h-4.982v-7.411h9.054l0.786-0.536 2.536-4.875 0.536-0.536h5.375v5.411z"></path>
</symbol>
<symbol id="icon-medium" viewbox="0 0 32 32">
<path class="path1" d="M10.661 7.518v20.946q0 0.446-0.223 0.759t-0.652 0.313q-0.304 0-0.589-0.143l-8.304-4.161q-0.375-0.179-0.634-0.598t-0.259-0.83v-20.357q0-0.357 0.179-0.607t0.518-0.25q0.25 0 0.786 0.268l9.125 4.571q0.054 0.054 0.054 0.089zM11.804 9.321l9.536 15.464-9.536-4.75v-10.714zM32 9.643v18.821q0 0.446-0.25 0.723t-0.679 0.277-0.839-0.232l-7.875-3.929zM31.946 7.5q0 0.054-4.58 7.491t-5.366 8.705l-6.964-11.321 5.786-9.411q0.304-0.5 0.929-0.5 0.25 0 0.464 0.107l9.661 4.821q0.071 0.036 0.071 0.107z"></path>
</symbol>
<symbol id="icon-slideshare" viewbox="0 0 32 32">
<path class="path1" d="M15.589 13.214q0 1.482-1.134 2.545t-2.723 1.063-2.723-1.063-1.134-2.545q0-1.5 1.134-2.554t2.723-1.054 2.723 1.054 1.134 2.554zM24.554 13.214q0 1.482-1.125 2.545t-2.732 1.063q-1.589 0-2.723-1.063t-1.134-2.545q0-1.5 1.134-2.554t2.723-1.054q1.607 0 2.732 1.054t1.125 2.554zM28.571 16.429v-11.911q0-1.554-0.571-2.205t-1.982-0.652h-19.857q-1.482 0-2.009 0.607t-0.527 2.25v12.018q0.768 0.411 1.58 0.714t1.446 0.5 1.446 0.33 1.268 0.196 1.25 0.071 1.045 0.009 1.009-0.036 0.795-0.036q1.214-0.018 1.696 0.482 0.107 0.107 0.179 0.161 0.464 0.446 1.089 0.911 0.125-1.625 2.107-1.554 0.089 0 0.652 0.027t0.768 0.036 0.813 0.018 0.946-0.018 0.973-0.080 1.089-0.152 1.107-0.241 1.196-0.348 1.205-0.482 1.286-0.616zM31.482 16.339q-2.161 2.661-6.643 4.5 1.5 5.089-0.411 8.304-1.179 2.018-3.268 2.643-1.857 0.571-3.25-0.268-1.536-0.911-1.464-2.929l-0.018-5.821v-0.018q-0.143-0.036-0.438-0.107t-0.42-0.089l-0.018 6.036q0.071 2.036-1.482 2.929-1.411 0.839-3.268 0.268-2.089-0.643-3.25-2.679-1.875-3.214-0.393-8.268-4.482-1.839-6.643-4.5-0.446-0.661-0.071-1.125t1.071 0.018q0.054 0.036 0.196 0.125t0.196 0.143v-12.393q0-1.286 0.839-2.196t2.036-0.911h22.446q1.196 0 2.036 0.911t0.839 2.196v12.393l0.375-0.268q0.696-0.482 1.071-0.018t-0.071 1.125z"></path>
</symbol>
<symbol id="icon-snapchat-ghost" viewbox="0 0 30 32">
<path class="path1" d="M15.143 2.286q2.393-0.018 4.295 1.223t2.92 3.438q0.482 1.036 0.482 3.196 0 0.839-0.161 3.411 0.25 0.125 0.5 0.125 0.321 0 0.911-0.241t0.911-0.241q0.518 0 1 0.321t0.482 0.821q0 0.571-0.563 0.964t-1.232 0.563-1.232 0.518-0.563 0.848q0 0.268 0.214 0.768 0.661 1.464 1.83 2.679t2.58 1.804q0.5 0.214 1.429 0.411 0.5 0.107 0.5 0.625 0 1.25-3.911 1.839-0.125 0.196-0.196 0.696t-0.25 0.83-0.589 0.33q-0.357 0-1.107-0.116t-1.143-0.116q-0.661 0-1.107 0.089-0.571 0.089-1.125 0.402t-1.036 0.679-1.036 0.723-1.357 0.598-1.768 0.241q-0.929 0-1.723-0.241t-1.339-0.598-1.027-0.723-1.036-0.679-1.107-0.402q-0.464-0.089-1.125-0.089-0.429 0-1.17 0.134t-1.045 0.134q-0.446 0-0.625-0.33t-0.25-0.848-0.196-0.714q-3.911-0.589-3.911-1.839 0-0.518 0.5-0.625 0.929-0.196 1.429-0.411 1.393-0.571 2.58-1.804t1.83-2.679q0.214-0.5 0.214-0.768 0-0.5-0.563-0.848t-1.241-0.527-1.241-0.563-0.563-0.938q0-0.482 0.464-0.813t0.982-0.33q0.268 0 0.857 0.232t0.946 0.232q0.321 0 0.571-0.125-0.161-2.536-0.161-3.393 0-2.179 0.482-3.214 1.143-2.446 3.071-3.536t4.714-1.125z"></path>
</symbol>
<symbol id="icon-yelp" viewbox="0 0 27 32">
<path class="path1" d="M13.804 23.554v2.268q-0.018 5.214-0.107 5.446-0.214 0.571-0.911 0.714-0.964 0.161-3.241-0.679t-2.902-1.589q-0.232-0.268-0.304-0.643-0.018-0.214 0.071-0.464 0.071-0.179 0.607-0.839t3.232-3.857q0.018 0 1.071-1.25 0.268-0.339 0.705-0.438t0.884 0.063q0.429 0.179 0.67 0.518t0.223 0.75zM11.143 19.071q-0.054 0.982-0.929 1.25l-2.143 0.696q-4.911 1.571-5.214 1.571-0.625-0.036-0.964-0.643-0.214-0.446-0.304-1.339-0.143-1.357 0.018-2.973t0.536-2.223 1-0.571q0.232 0 3.607 1.375 1.25 0.518 2.054 0.839l1.5 0.607q0.411 0.161 0.634 0.545t0.205 0.866zM25.893 24.375q-0.125 0.964-1.634 2.875t-2.42 2.268q-0.661 0.25-1.125-0.125-0.25-0.179-3.286-5.125l-0.839-1.375q-0.25-0.375-0.205-0.821t0.348-0.821q0.625-0.768 1.482-0.464 0.018 0.018 2.125 0.714 3.625 1.179 4.321 1.42t0.839 0.366q0.5 0.393 0.393 1.089zM13.893 13.089q0.089 1.821-0.964 2.179-1.036 0.304-2.036-1.268l-6.75-10.679q-0.143-0.625 0.339-1.107 0.732-0.768 3.705-1.598t4.009-0.563q0.714 0.179 0.875 0.804 0.054 0.321 0.393 5.455t0.429 6.777zM25.714 15.018q0.054 0.696-0.464 1.054-0.268 0.179-5.875 1.536-1.196 0.268-1.625 0.411l0.018-0.036q-0.411 0.107-0.821-0.071t-0.661-0.571q-0.536-0.839 0-1.554 0.018-0.018 1.339-1.821 2.232-3.054 2.679-3.643t0.607-0.696q0.5-0.339 1.161-0.036 0.857 0.411 2.196 2.384t1.446 2.991v0.054z"></path>
</symbol>
<symbol id="icon-vine" viewbox="0 0 27 32">
<path class="path1" d="M26.732 14.768v3.536q-1.804 0.411-3.536 0.411-1.161 2.429-2.955 4.839t-3.241 3.848-2.286 1.902q-1.429 0.804-2.893-0.054-0.5-0.304-1.080-0.777t-1.518-1.491-1.83-2.295-1.92-3.286-1.884-4.357-1.634-5.616-1.259-6.964h5.054q0.464 3.893 1.25 7.116t1.866 5.661 2.17 4.205 2.5 3.482q3.018-3.018 5.125-7.25-2.536-1.286-3.982-3.929t-1.446-5.946q0-3.429 1.857-5.616t5.071-2.188q3.179 0 4.875 1.884t1.696 5.313q0 2.839-1.036 5.107-0.125 0.018-0.348 0.054t-0.821 0.036-1.125-0.107-1.107-0.455-0.902-0.92q0.554-1.839 0.554-3.286 0-1.554-0.518-2.357t-1.411-0.804q-0.946 0-1.518 0.884t-0.571 2.509q0 3.321 1.875 5.241t4.768 1.92q1.107 0 2.161-0.25z"></path>
</symbol>
<symbol id="icon-vk" viewbox="0 0 35 32">
<path class="path1" d="M34.232 9.286q0.411 1.143-2.679 5.25-0.429 0.571-1.161 1.518-1.393 1.786-1.607 2.339-0.304 0.732 0.25 1.446 0.304 0.375 1.446 1.464h0.018l0.071 0.071q2.518 2.339 3.411 3.946 0.054 0.089 0.116 0.223t0.125 0.473-0.009 0.607-0.446 0.491-1.054 0.223l-4.571 0.071q-0.429 0.089-1-0.089t-0.929-0.393l-0.357-0.214q-0.536-0.375-1.25-1.143t-1.223-1.384-1.089-1.036-1.009-0.277q-0.054 0.018-0.143 0.063t-0.304 0.259-0.384 0.527-0.304 0.929-0.116 1.384q0 0.268-0.063 0.491t-0.134 0.33l-0.071 0.089q-0.321 0.339-0.946 0.393h-2.054q-1.268 0.071-2.607-0.295t-2.348-0.946-1.839-1.179-1.259-1.027l-0.446-0.429q-0.179-0.179-0.491-0.536t-1.277-1.625-1.893-2.696-2.188-3.768-2.33-4.857q-0.107-0.286-0.107-0.482t0.054-0.286l0.071-0.107q0.268-0.339 1.018-0.339l4.893-0.036q0.214 0.036 0.411 0.116t0.286 0.152l0.089 0.054q0.286 0.196 0.429 0.571 0.357 0.893 0.821 1.848t0.732 1.455l0.286 0.518q0.518 1.071 1 1.857t0.866 1.223 0.741 0.688 0.607 0.25 0.482-0.089q0.036-0.018 0.089-0.089t0.214-0.393 0.241-0.839 0.17-1.446 0-2.232q-0.036-0.714-0.161-1.304t-0.25-0.821l-0.107-0.214q-0.446-0.607-1.518-0.768-0.232-0.036 0.089-0.429 0.304-0.339 0.679-0.536 0.946-0.464 4.268-0.429 1.464 0.018 2.411 0.232 0.357 0.089 0.598 0.241t0.366 0.429 0.188 0.571 0.063 0.813-0.018 0.982-0.045 1.259-0.027 1.473q0 0.196-0.018 0.75t-0.009 0.857 0.063 0.723 0.205 0.696 0.402 0.438q0.143 0.036 0.304 0.071t0.464-0.196 0.679-0.616 0.929-1.196 1.214-1.92q1.071-1.857 1.911-4.018 0.071-0.179 0.179-0.313t0.196-0.188l0.071-0.054 0.089-0.045t0.232-0.054 0.357-0.009l5.143-0.036q0.696-0.089 1.143 0.045t0.554 0.295z"></path>
</symbol>
<symbol id="icon-search" viewbox="0 0 30 32">
<path class="path1" d="M20.571 14.857q0-3.304-2.348-5.652t-5.652-2.348-5.652 2.348-2.348 5.652 2.348 5.652 5.652 2.348 5.652-2.348 2.348-5.652zM29.714 29.714q0 0.929-0.679 1.607t-1.607 0.679q-0.964 0-1.607-0.679l-6.125-6.107q-3.196 2.214-7.125 2.214-2.554 0-4.884-0.991t-4.018-2.679-2.679-4.018-0.991-4.884 0.991-4.884 2.679-4.018 4.018-2.679 4.884-0.991 4.884 0.991 4.018 2.679 2.679 4.018 0.991 4.884q0 3.929-2.214 7.125l6.125 6.125q0.661 0.661 0.661 1.607z"></path>
</symbol>
<symbol id="icon-envelope-o" viewbox="0 0 32 32">
<path class="path1" d="M29.714 26.857v-13.714q-0.571 0.643-1.232 1.179-4.786 3.679-7.607 6.036-0.911 0.768-1.482 1.196t-1.545 0.866-1.83 0.438h-0.036q-0.857 0-1.83-0.438t-1.545-0.866-1.482-1.196q-2.821-2.357-7.607-6.036-0.661-0.536-1.232-1.179v13.714q0 0.232 0.17 0.402t0.402 0.17h26.286q0.232 0 0.402-0.17t0.17-0.402zM29.714 8.089v-0.438t-0.009-0.232-0.054-0.223-0.098-0.161-0.161-0.134-0.25-0.045h-26.286q-0.232 0-0.402 0.17t-0.17 0.402q0 3 2.625 5.071 3.446 2.714 7.161 5.661 0.107 0.089 0.625 0.527t0.821 0.67 0.795 0.563 0.902 0.491 0.768 0.161h0.036q0.357 0 0.768-0.161t0.902-0.491 0.795-0.563 0.821-0.67 0.625-0.527q3.714-2.946 7.161-5.661 0.964-0.768 1.795-2.063t0.83-2.348zM32 7.429v19.429q0 1.179-0.839 2.018t-2.018 0.839h-26.286q-1.179 0-2.018-0.839t-0.839-2.018v-19.429q0-1.179 0.839-2.018t2.018-0.839h26.286q1.179 0 2.018 0.839t0.839 2.018z"></path>
</symbol>
<symbol id="icon-close" viewbox="0 0 25 32">
<path class="path1" d="M23.179 23.607q0 0.714-0.5 1.214l-2.429 2.429q-0.5 0.5-1.214 0.5t-1.214-0.5l-5.25-5.25-5.25 5.25q-0.5 0.5-1.214 0.5t-1.214-0.5l-2.429-2.429q-0.5-0.5-0.5-1.214t0.5-1.214l5.25-5.25-5.25-5.25q-0.5-0.5-0.5-1.214t0.5-1.214l2.429-2.429q0.5-0.5 1.214-0.5t1.214 0.5l5.25 5.25 5.25-5.25q0.5-0.5 1.214-0.5t1.214 0.5l2.429 2.429q0.5 0.5 0.5 1.214t-0.5 1.214l-5.25 5.25 5.25 5.25q0.5 0.5 0.5 1.214z"></path>
</symbol>
<symbol id="icon-angle-down" viewbox="0 0 21 32">
<path class="path1" d="M19.196 13.143q0 0.232-0.179 0.411l-8.321 8.321q-0.179 0.179-0.411 0.179t-0.411-0.179l-8.321-8.321q-0.179-0.179-0.179-0.411t0.179-0.411l0.893-0.893q0.179-0.179 0.411-0.179t0.411 0.179l7.018 7.018 7.018-7.018q0.179-0.179 0.411-0.179t0.411 0.179l0.893 0.893q0.179 0.179 0.179 0.411z"></path>
</symbol>
<symbol id="icon-folder-open" viewbox="0 0 34 32">
<path class="path1" d="M33.554 17q0 0.554-0.554 1.179l-6 7.071q-0.768 0.911-2.152 1.545t-2.563 0.634h-19.429q-0.607 0-1.080-0.232t-0.473-0.768q0-0.554 0.554-1.179l6-7.071q0.768-0.911 2.152-1.545t2.563-0.634h19.429q0.607 0 1.080 0.232t0.473 0.768zM27.429 10.857v2.857h-14.857q-1.679 0-3.518 0.848t-2.929 2.134l-6.107 7.179q0-0.071-0.009-0.223t-0.009-0.223v-17.143q0-1.643 1.179-2.821t2.821-1.179h5.714q1.643 0 2.821 1.179t1.179 2.821v0.571h9.714q1.643 0 2.821 1.179t1.179 2.821z"></path>
</symbol>
<symbol id="icon-twitter" viewbox="0 0 30 32">
<path class="path1" d="M28.929 7.286q-1.196 1.75-2.893 2.982 0.018 0.25 0.018 0.75 0 2.321-0.679 4.634t-2.063 4.437-3.295 3.759-4.607 2.607-5.768 0.973q-4.839 0-8.857-2.589 0.625 0.071 1.393 0.071 4.018 0 7.161-2.464-1.875-0.036-3.357-1.152t-2.036-2.848q0.589 0.089 1.089 0.089 0.768 0 1.518-0.196-2-0.411-3.313-1.991t-1.313-3.67v-0.071q1.214 0.679 2.607 0.732-1.179-0.786-1.875-2.054t-0.696-2.75q0-1.571 0.786-2.911 2.161 2.661 5.259 4.259t6.634 1.777q-0.143-0.679-0.143-1.321 0-2.393 1.688-4.080t4.080-1.688q2.5 0 4.214 1.821 1.946-0.375 3.661-1.393-0.661 2.054-2.536 3.179 1.661-0.179 3.321-0.893z"></path>
</symbol>
<symbol id="icon-facebook" viewbox="0 0 19 32">
<path class="path1" d="M17.125 0.214v4.714h-2.804q-1.536 0-2.071 0.643t-0.536 1.929v3.375h5.232l-0.696 5.286h-4.536v13.554h-5.464v-13.554h-4.554v-5.286h4.554v-3.893q0-3.321 1.857-5.152t4.946-1.83q2.625 0 4.071 0.214z"></path>
</symbol>
<symbol id="icon-github" viewbox="0 0 27 32">
<path class="path1" d="M13.714 2.286q3.732 0 6.884 1.839t4.991 4.991 1.839 6.884q0 4.482-2.616 8.063t-6.759 4.955q-0.482 0.089-0.714-0.125t-0.232-0.536q0-0.054 0.009-1.366t0.009-2.402q0-1.732-0.929-2.536 1.018-0.107 1.83-0.321t1.679-0.696 1.446-1.188 0.946-1.875 0.366-2.688q0-2.125-1.411-3.679 0.661-1.625-0.143-3.643-0.5-0.161-1.446 0.196t-1.643 0.786l-0.679 0.429q-1.661-0.464-3.429-0.464t-3.429 0.464q-0.286-0.196-0.759-0.482t-1.491-0.688-1.518-0.241q-0.804 2.018-0.143 3.643-1.411 1.554-1.411 3.679 0 1.518 0.366 2.679t0.938 1.875 1.438 1.196 1.679 0.696 1.83 0.321q-0.696 0.643-0.875 1.839-0.375 0.179-0.804 0.268t-1.018 0.089-1.17-0.384-0.991-1.116q-0.339-0.571-0.866-0.929t-0.884-0.429l-0.357-0.054q-0.375 0-0.518 0.080t-0.089 0.205 0.161 0.25 0.232 0.214l0.125 0.089q0.393 0.179 0.777 0.679t0.563 0.911l0.179 0.411q0.232 0.679 0.786 1.098t1.196 0.536 1.241 0.125 0.991-0.063l0.411-0.071q0 0.679 0.009 1.58t0.009 0.973q0 0.321-0.232 0.536t-0.714 0.125q-4.143-1.375-6.759-4.955t-2.616-8.063q0-3.732 1.839-6.884t4.991-4.991 6.884-1.839zM5.196 21.982q0.054-0.125-0.125-0.214-0.179-0.054-0.232 0.036-0.054 0.125 0.125 0.214 0.161 0.107 0.232-0.036zM5.75 22.589q0.125-0.089-0.036-0.286-0.179-0.161-0.286-0.054-0.125 0.089 0.036 0.286 0.179 0.179 0.286 0.054zM6.286 23.393q0.161-0.125 0-0.339-0.143-0.232-0.304-0.107-0.161 0.089 0 0.321t0.304 0.125zM7.036 24.143q0.143-0.143-0.071-0.339-0.214-0.214-0.357-0.054-0.161 0.143 0.071 0.339 0.214 0.214 0.357 0.054zM8.054 24.589q0.054-0.196-0.232-0.286-0.268-0.071-0.339 0.125t0.232 0.268q0.268 0.107 0.339-0.107zM9.179 24.679q0-0.232-0.304-0.196-0.286 0-0.286 0.196 0 0.232 0.304 0.196 0.286 0 0.286-0.196zM10.214 24.5q-0.036-0.196-0.321-0.161-0.286 0.054-0.25 0.268t0.321 0.143 0.25-0.25z"></path>
</symbol>
<symbol id="icon-bars" viewbox="0 0 27 32">
<path class="path1" d="M27.429 24v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804zM27.429 14.857v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804zM27.429 5.714v2.286q0 0.464-0.339 0.804t-0.804 0.339h-25.143q-0.464 0-0.804-0.339t-0.339-0.804v-2.286q0-0.464 0.339-0.804t0.804-0.339h25.143q0.464 0 0.804 0.339t0.339 0.804z"></path>
</symbol>
<symbol id="icon-google-plus" viewbox="0 0 41 32">
<path class="path1" d="M25.661 16.304q0 3.714-1.554 6.616t-4.429 4.536-6.589 1.634q-2.661 0-5.089-1.036t-4.179-2.786-2.786-4.179-1.036-5.089 1.036-5.089 2.786-4.179 4.179-2.786 5.089-1.036q5.107 0 8.768 3.429l-3.554 3.411q-2.089-2.018-5.214-2.018-2.196 0-4.063 1.107t-2.955 3.009-1.089 4.152 1.089 4.152 2.955 3.009 4.063 1.107q1.482 0 2.723-0.411t2.045-1.027 1.402-1.402 0.875-1.482 0.384-1.321h-7.429v-4.5h12.357q0.214 1.125 0.214 2.179zM41.143 14.125v3.75h-3.732v3.732h-3.75v-3.732h-3.732v-3.75h3.732v-3.732h3.75v3.732h3.732z"></path>
</symbol>
<symbol id="icon-linkedin" viewbox="0 0 27 32">
<path class="path1" d="M6.232 11.161v17.696h-5.893v-17.696h5.893zM6.607 5.696q0.018 1.304-0.902 2.179t-2.42 0.875h-0.036q-1.464 0-2.357-0.875t-0.893-2.179q0-1.321 0.92-2.188t2.402-0.866 2.375 0.866 0.911 2.188zM27.429 18.714v10.143h-5.875v-9.464q0-1.875-0.723-2.938t-2.259-1.063q-1.125 0-1.884 0.616t-1.134 1.527q-0.196 0.536-0.196 1.446v9.875h-5.875q0.036-7.125 0.036-11.554t-0.018-5.286l-0.018-0.857h5.875v2.571h-0.036q0.357-0.571 0.732-1t1.009-0.929 1.554-0.777 2.045-0.277q3.054 0 4.911 2.027t1.857 5.938z"></path>
</symbol>
<symbol id="icon-quote-right" viewbox="0 0 30 32">
<path class="path1" d="M13.714 5.714v12.571q0 1.857-0.723 3.545t-1.955 2.92-2.92 1.955-3.545 0.723h-1.143q-0.464 0-0.804-0.339t-0.339-0.804v-2.286q0-0.464 0.339-0.804t0.804-0.339h1.143q1.893 0 3.232-1.339t1.339-3.232v-0.571q0-0.714-0.5-1.214t-1.214-0.5h-4q-1.429 0-2.429-1t-1-2.429v-6.857q0-1.429 1-2.429t2.429-1h6.857q1.429 0 2.429 1t1 2.429zM29.714 5.714v12.571q0 1.857-0.723 3.545t-1.955 2.92-2.92 1.955-3.545 0.723h-1.143q-0.464 0-0.804-0.339t-0.339-0.804v-2.286q0-0.464 0.339-0.804t0.804-0.339h1.143q1.893 0 3.232-1.339t1.339-3.232v-0.571q0-0.714-0.5-1.214t-1.214-0.5h-4q-1.429 0-2.429-1t-1-2.429v-6.857q0-1.429 1-2.429t2.429-1h6.857q1.429 0 2.429 1t1 2.429z"></path>
</symbol>
<symbol id="icon-mail-reply" viewbox="0 0 32 32">
<path class="path1" d="M32 20q0 2.964-2.268 8.054-0.054 0.125-0.188 0.429t-0.241 0.536-0.232 0.393q-0.214 0.304-0.5 0.304-0.268 0-0.42-0.179t-0.152-0.446q0-0.161 0.045-0.473t0.045-0.42q0.089-1.214 0.089-2.196 0-1.804-0.313-3.232t-0.866-2.473-1.429-1.804-1.884-1.241-2.375-0.759-2.75-0.384-3.134-0.107h-4v4.571q0 0.464-0.339 0.804t-0.804 0.339-0.804-0.339l-9.143-9.143q-0.339-0.339-0.339-0.804t0.339-0.804l9.143-9.143q0.339-0.339 0.804-0.339t0.804 0.339 0.339 0.804v4.571h4q12.732 0 15.625 7.196 0.946 2.393 0.946 5.946z"></path>
</symbol>
<symbol id="icon-youtube" viewbox="0 0 27 32">
<path class="path1" d="M17.339 22.214v3.768q0 1.196-0.696 1.196-0.411 0-0.804-0.393v-5.375q0.393-0.393 0.804-0.393 0.696 0 0.696 1.196zM23.375 22.232v0.821h-1.607v-0.821q0-1.214 0.804-1.214t0.804 1.214zM6.125 18.339h1.911v-1.679h-5.571v1.679h1.875v10.161h1.786v-10.161zM11.268 28.5h1.589v-8.821h-1.589v6.75q-0.536 0.75-1.018 0.75-0.321 0-0.375-0.375-0.018-0.054-0.018-0.625v-6.5h-1.589v6.982q0 0.875 0.143 1.304 0.214 0.661 1.036 0.661 0.857 0 1.821-1.089v0.964zM18.929 25.857v-3.518q0-1.304-0.161-1.768-0.304-1-1.268-1-0.893 0-1.661 0.964v-3.875h-1.589v11.839h1.589v-0.857q0.804 0.982 1.661 0.982 0.964 0 1.268-0.982 0.161-0.482 0.161-1.786zM24.964 25.679v-0.232h-1.625q0 0.911-0.036 1.089-0.125 0.643-0.714 0.643-0.821 0-0.821-1.232v-1.554h3.196v-1.839q0-1.411-0.482-2.071-0.696-0.911-1.893-0.911-1.214 0-1.911 0.911-0.5 0.661-0.5 2.071v3.089q0 1.411 0.518 2.071 0.696 0.911 1.929 0.911 1.286 0 1.929-0.946 0.321-0.482 0.375-0.964 0.036-0.161 0.036-1.036zM14.107 9.375v-3.75q0-1.232-0.768-1.232t-0.768 1.232v3.75q0 1.25 0.768 1.25t0.768-1.25zM26.946 22.786q0 4.179-0.464 6.25-0.25 1.054-1.036 1.768t-1.821 0.821q-3.286 0.375-9.911 0.375t-9.911-0.375q-1.036-0.107-1.83-0.821t-1.027-1.768q-0.464-2-0.464-6.25 0-4.179 0.464-6.25 0.25-1.054 1.036-1.768t1.839-0.839q3.268-0.357 9.893-0.357t9.911 0.357q1.036 0.125 1.83 0.839t1.027 1.768q0.464 2 0.464 6.25zM9.125 0h1.821l-2.161 7.125v4.839h-1.786v-4.839q-0.25-1.321-1.089-3.786-0.661-1.839-1.161-3.339h1.893l1.268 4.696zM15.732 5.946v3.125q0 1.446-0.5 2.107-0.661 0.911-1.893 0.911-1.196 0-1.875-0.911-0.5-0.679-0.5-2.107v-3.125q0-1.429 0.5-2.089 0.679-0.911 1.875-0.911 1.232 0 1.893 0.911 0.5 0.661 0.5 2.089zM21.714 3.054v8.911h-1.625v-0.982q-0.946 1.107-1.839 1.107-0.821 0-1.054-0.661-0.143-0.429-0.143-1.339v-7.036h1.625v6.554q0 0.589 0.018 0.625 0.054 0.393 0.375 0.393 0.482 0 1.018-0.768v-6.804h1.625z"></path>
</symbol>
<symbol id="icon-dropbox" viewbox="0 0 32 32">
<path class="path1" d="M7.179 12.625l8.821 5.446-6.107 5.089-8.75-5.696zM24.786 22.536v1.929l-8.75 5.232v0.018l-0.018-0.018-0.018 0.018v-0.018l-8.732-5.232v-1.929l2.625 1.714 6.107-5.071v-0.036l0.018 0.018 0.018-0.018v0.036l6.125 5.071zM9.893 2.107l6.107 5.089-8.821 5.429-6.036-4.821zM24.821 12.625l6.036 4.839-8.732 5.696-6.125-5.089zM22.125 2.107l8.732 5.696-6.036 4.821-8.821-5.429z"></path>
</symbol>
<symbol id="icon-instagram" viewbox="0 0 27 32">
<path class="path1" d="M18.286 16q0-1.893-1.339-3.232t-3.232-1.339-3.232 1.339-1.339 3.232 1.339 3.232 3.232 1.339 3.232-1.339 1.339-3.232zM20.75 16q0 2.929-2.054 4.982t-4.982 2.054-4.982-2.054-2.054-4.982 2.054-4.982 4.982-2.054 4.982 2.054 2.054 4.982zM22.679 8.679q0 0.679-0.482 1.161t-1.161 0.482-1.161-0.482-0.482-1.161 0.482-1.161 1.161-0.482 1.161 0.482 0.482 1.161zM13.714 4.75q-0.125 0-1.366-0.009t-1.884 0-1.723 0.054-1.839 0.179-1.277 0.33q-0.893 0.357-1.571 1.036t-1.036 1.571q-0.196 0.518-0.33 1.277t-0.179 1.839-0.054 1.723 0 1.884 0.009 1.366-0.009 1.366 0 1.884 0.054 1.723 0.179 1.839 0.33 1.277q0.357 0.893 1.036 1.571t1.571 1.036q0.518 0.196 1.277 0.33t1.839 0.179 1.723 0.054 1.884 0 1.366-0.009 1.366 0.009 1.884 0 1.723-0.054 1.839-0.179 1.277-0.33q0.893-0.357 1.571-1.036t1.036-1.571q0.196-0.518 0.33-1.277t0.179-1.839 0.054-1.723 0-1.884-0.009-1.366 0.009-1.366 0-1.884-0.054-1.723-0.179-1.839-0.33-1.277q-0.357-0.893-1.036-1.571t-1.571-1.036q-0.518-0.196-1.277-0.33t-1.839-0.179-1.723-0.054-1.884 0-1.366 0.009zM27.429 16q0 4.089-0.089 5.661-0.179 3.714-2.214 5.75t-5.75 2.214q-1.571 0.089-5.661 0.089t-5.661-0.089q-3.714-0.179-5.75-2.214t-2.214-5.75q-0.089-1.571-0.089-5.661t0.089-5.661q0.179-3.714 2.214-5.75t5.75-2.214q1.571-0.089 5.661-0.089t5.661 0.089q3.714 0.179 5.75 2.214t2.214 5.75q0.089 1.571 0.089 5.661z"></path>
</symbol>
<symbol id="icon-flickr" viewbox="0 0 27 32">
<path class="path1" d="M22.286 2.286q2.125 0 3.634 1.509t1.509 3.634v17.143q0 2.125-1.509 3.634t-3.634 1.509h-17.143q-2.125 0-3.634-1.509t-1.509-3.634v-17.143q0-2.125 1.509-3.634t3.634-1.509h17.143zM12.464 16q0-1.571-1.107-2.679t-2.679-1.107-2.679 1.107-1.107 2.679 1.107 2.679 2.679 1.107 2.679-1.107 1.107-2.679zM22.536 16q0-1.571-1.107-2.679t-2.679-1.107-2.679 1.107-1.107 2.679 1.107 2.679 2.679 1.107 2.679-1.107 1.107-2.679z"></path>
</symbol>
<symbol id="icon-tumblr" viewbox="0 0 19 32">
<path class="path1" d="M16.857 23.732l1.429 4.232q-0.411 0.625-1.982 1.179t-3.161 0.571q-1.857 0.036-3.402-0.464t-2.545-1.321-1.696-1.893-0.991-2.143-0.295-2.107v-9.714h-3v-3.839q1.286-0.464 2.304-1.241t1.625-1.607 1.036-1.821 0.607-1.768 0.268-1.58q0.018-0.089 0.080-0.152t0.134-0.063h4.357v7.571h5.946v4.5h-5.964v9.25q0 0.536 0.116 1t0.402 0.938 0.884 0.741 1.455 0.25q1.393-0.036 2.393-0.518z"></path>
</symbol>
<symbol id="icon-dribbble" viewbox="0 0 27 32">
<path class="path1" d="M18.286 26.786q-0.75-4.304-2.5-8.893h-0.036l-0.036 0.018q-0.286 0.107-0.768 0.295t-1.804 0.875-2.446 1.464-2.339 2.045-1.839 2.643l-0.268-0.196q3.286 2.679 7.464 2.679 2.357 0 4.571-0.929zM14.982 15.946q-0.375-0.875-0.946-1.982-5.554 1.661-12.018 1.661-0.018 0.125-0.018 0.375 0 2.214 0.786 4.223t2.214 3.598q0.893-1.589 2.205-2.973t2.545-2.223 2.33-1.446 1.777-0.857l0.661-0.232q0.071-0.018 0.232-0.063t0.232-0.080zM13.071 12.161q-2.143-3.804-4.357-6.75-2.464 1.161-4.179 3.321t-2.286 4.857q5.393 0 10.821-1.429zM25.286 17.857q-3.75-1.071-7.304-0.518 1.554 4.268 2.286 8.375 1.982-1.339 3.304-3.384t1.714-4.473zM10.911 4.625q-0.018 0-0.036 0.018 0.018-0.018 0.036-0.018zM21.446 7.214q-3.304-2.929-7.732-2.929-1.357 0-2.768 0.339 2.339 3.036 4.393 6.821 1.232-0.464 2.321-1.080t1.723-1.098 1.17-1.018 0.67-0.723zM25.429 15.875q-0.054-4.143-2.661-7.321l-0.018 0.018q-0.161 0.214-0.339 0.438t-0.777 0.795-1.268 1.080-1.786 1.161-2.348 1.152q0.446 0.946 0.786 1.696 0.036 0.107 0.116 0.313t0.134 0.295q0.643-0.089 1.33-0.125t1.313-0.036 1.232 0.027 1.143 0.071 1.009 0.098 0.857 0.116 0.652 0.107 0.446 0.080zM27.429 16q0 3.732-1.839 6.884t-4.991 4.991-6.884 1.839-6.884-1.839-4.991-4.991-1.839-6.884 1.839-6.884 4.991-4.991 6.884-1.839 6.884 1.839 4.991 4.991 1.839 6.884z"></path>
</symbol>
<symbol id="icon-skype" viewbox="0 0 27 32">
<path class="path1" d="M20.946 18.982q0-0.893-0.348-1.634t-0.866-1.223-1.304-0.875-1.473-0.607-1.563-0.411l-1.857-0.429q-0.536-0.125-0.786-0.188t-0.625-0.205-0.536-0.286-0.295-0.375-0.134-0.536q0-1.375 2.571-1.375 0.768 0 1.375 0.214t0.964 0.509 0.679 0.598 0.714 0.518 0.857 0.214q0.839 0 1.348-0.571t0.509-1.375q0-0.982-1-1.777t-2.536-1.205-3.25-0.411q-1.214 0-2.357 0.277t-2.134 0.839-1.589 1.554-0.598 2.295q0 1.089 0.339 1.902t1 1.348 1.429 0.866 1.839 0.58l2.607 0.643q1.607 0.393 2 0.643 0.571 0.357 0.571 1.071 0 0.696-0.714 1.152t-1.875 0.455q-0.911 0-1.634-0.286t-1.161-0.688-0.813-0.804-0.821-0.688-0.964-0.286q-0.893 0-1.348 0.536t-0.455 1.339q0 1.643 2.179 2.813t5.196 1.17q1.304 0 2.5-0.33t2.188-0.955 1.58-1.67 0.589-2.348zM27.429 22.857q0 2.839-2.009 4.848t-4.848 2.009q-2.321 0-4.179-1.429-1.375 0.286-2.679 0.286-2.554 0-4.884-0.991t-4.018-2.679-2.679-4.018-0.991-4.884q0-1.304 0.286-2.679-1.429-1.857-1.429-4.179 0-2.839 2.009-4.848t4.848-2.009q2.321 0 4.179 1.429 1.375-0.286 2.679-0.286 2.554 0 4.884 0.991t4.018 2.679 2.679 4.018 0.991 4.884q0 1.304-0.286 2.679 1.429 1.857 1.429 4.179z"></path>
</symbol>
<symbol id="icon-foursquare" viewbox="0 0 23 32">
<path class="path1" d="M17.857 7.75l0.661-3.464q0.089-0.411-0.161-0.714t-0.625-0.304h-12.714q-0.411 0-0.688 0.304t-0.277 0.661v19.661q0 0.125 0.107 0.018l5.196-6.286q0.411-0.464 0.679-0.598t0.857-0.134h4.268q0.393 0 0.661-0.259t0.321-0.527q0.429-2.321 0.661-3.411 0.071-0.375-0.205-0.714t-0.652-0.339h-5.25q-0.518 0-0.857-0.339t-0.339-0.857v-0.75q0-0.518 0.339-0.848t0.857-0.33h6.179q0.321 0 0.625-0.241t0.357-0.527zM21.911 3.786q-0.268 1.304-0.955 4.759t-1.241 6.25-0.625 3.098q-0.107 0.393-0.161 0.58t-0.25 0.58-0.438 0.589-0.688 0.375-1.036 0.179h-4.839q-0.232 0-0.393 0.179-0.143 0.161-7.607 8.821-0.393 0.446-1.045 0.509t-0.866-0.098q-0.982-0.393-0.982-1.75v-25.179q0-0.982 0.679-1.83t2.143-0.848h15.857q1.696 0 2.268 0.946t0.179 2.839zM21.911 3.786l-2.821 14.107q0.071-0.304 0.625-3.098t1.241-6.25 0.955-4.759z"></path>
</symbol>
<symbol id="icon-wordpress" viewbox="0 0 32 32">
<path class="path1" d="M2.268 16q0-2.911 1.196-5.589l6.554 17.946q-3.5-1.696-5.625-5.018t-2.125-7.339zM25.268 15.304q0 0.339-0.045 0.688t-0.179 0.884-0.205 0.786-0.313 1.054-0.313 1.036l-1.357 4.571-4.964-14.75q0.821-0.054 1.571-0.143 0.339-0.036 0.464-0.33t-0.045-0.554-0.509-0.241l-3.661 0.179q-1.339-0.018-3.607-0.179-0.214-0.018-0.366 0.089t-0.205 0.268-0.027 0.33 0.161 0.295 0.348 0.143l1.429 0.143 2.143 5.857-3 9-5-14.857q0.821-0.054 1.571-0.143 0.339-0.036 0.464-0.33t-0.045-0.554-0.509-0.241l-3.661 0.179q-0.125 0-0.411-0.009t-0.464-0.009q1.875-2.857 4.902-4.527t6.563-1.67q2.625 0 5.009 0.946t4.259 2.661h-0.179q-0.982 0-1.643 0.723t-0.661 1.705q0 0.214 0.036 0.429t0.071 0.384 0.143 0.411 0.161 0.375 0.214 0.402 0.223 0.375 0.259 0.429 0.25 0.411q1.125 1.911 1.125 3.786zM16.232 17.196l4.232 11.554q0.018 0.107 0.089 0.196-2.25 0.786-4.554 0.786-2 0-3.875-0.571zM28.036 9.411q1.696 3.107 1.696 6.589 0 3.732-1.857 6.884t-4.982 4.973l4.196-12.107q1.054-3.018 1.054-4.929 0-0.75-0.107-1.411zM16 0q3.25 0 6.214 1.268t5.107 3.411 3.411 5.107 1.268 6.214-1.268 6.214-3.411 5.107-5.107 3.411-6.214 1.268-6.214-1.268-5.107-3.411-3.411-5.107-1.268-6.214 1.268-6.214 3.411-5.107 5.107-3.411 6.214-1.268zM16 31.268q3.089 0 5.92-1.214t4.875-3.259 3.259-4.875 1.214-5.92-1.214-5.92-3.259-4.875-4.875-3.259-5.92-1.214-5.92 1.214-4.875 3.259-3.259 4.875-1.214 5.92 1.214 5.92 3.259 4.875 4.875 3.259 5.92 1.214z"></path>
</symbol>
<symbol id="icon-stumbleupon" viewbox="0 0 34 32">
<path class="path1" d="M18.964 12.714v-2.107q0-0.75-0.536-1.286t-1.286-0.536-1.286 0.536-0.536 1.286v10.929q0 3.125-2.25 5.339t-5.411 2.214q-3.179 0-5.42-2.241t-2.241-5.42v-4.75h5.857v4.679q0 0.768 0.536 1.295t1.286 0.527 1.286-0.527 0.536-1.295v-11.071q0-3.054 2.259-5.214t5.384-2.161q3.143 0 5.393 2.179t2.25 5.25v2.429l-3.482 1.036zM28.429 16.679h5.857v4.75q0 3.179-2.241 5.42t-5.42 2.241q-3.161 0-5.411-2.223t-2.25-5.366v-4.786l2.339 1.089 3.482-1.036v4.821q0 0.75 0.536 1.277t1.286 0.527 1.286-0.527 0.536-1.277v-4.911z"></path>
</symbol>
<symbol id="icon-digg" viewbox="0 0 37 32">
<path class="path1" d="M5.857 5.036h3.643v17.554h-9.5v-12.446h5.857v-5.107zM5.857 19.661v-6.589h-2.196v6.589h2.196zM10.964 10.143v12.446h3.661v-12.446h-3.661zM10.964 5.036v3.643h3.661v-3.643h-3.661zM16.089 10.143h9.518v16.821h-9.518v-2.911h5.857v-1.464h-5.857v-12.446zM21.946 19.661v-6.589h-2.196v6.589h2.196zM27.071 10.143h9.5v16.821h-9.5v-2.911h5.839v-1.464h-5.839v-12.446zM32.911 19.661v-6.589h-2.196v6.589h2.196z"></path>
</symbol>
<symbol id="icon-spotify" viewbox="0 0 27 32">
<path class="path1" d="M20.125 21.607q0-0.571-0.536-0.911-3.446-2.054-7.982-2.054-2.375 0-5.125 0.607-0.75 0.161-0.75 0.929 0 0.357 0.241 0.616t0.634 0.259q0.089 0 0.661-0.143 2.357-0.482 4.339-0.482 4.036 0 7.089 1.839 0.339 0.196 0.589 0.196 0.339 0 0.589-0.241t0.25-0.616zM21.839 17.768q0-0.714-0.625-1.089-4.232-2.518-9.786-2.518-2.732 0-5.411 0.75-0.857 0.232-0.857 1.143 0 0.446 0.313 0.759t0.759 0.313q0.125 0 0.661-0.143 2.179-0.589 4.482-0.589 4.982 0 8.714 2.214 0.429 0.232 0.679 0.232 0.446 0 0.759-0.313t0.313-0.759zM23.768 13.339q0-0.839-0.714-1.25-2.25-1.304-5.232-1.973t-6.125-0.67q-3.643 0-6.5 0.839-0.411 0.125-0.688 0.455t-0.277 0.866q0 0.554 0.366 0.929t0.92 0.375q0.196 0 0.714-0.143 2.375-0.661 5.482-0.661 2.839 0 5.527 0.607t4.527 1.696q0.375 0.214 0.714 0.214 0.518 0 0.902-0.366t0.384-0.92zM27.429 16q0 3.732-1.839 6.884t-4.991 4.991-6.884 1.839-6.884-1.839-4.991-4.991-1.839-6.884 1.839-6.884 4.991-4.991 6.884-1.839 6.884 1.839 4.991 4.991 1.839 6.884z"></path>
</symbol>
<symbol id="icon-soundcloud" viewbox="0 0 41 32">
<path class="path1" d="M14 24.5l0.286-4.304-0.286-9.339q-0.018-0.179-0.134-0.304t-0.295-0.125q-0.161 0-0.286 0.125t-0.125 0.304l-0.25 9.339 0.25 4.304q0.018 0.179 0.134 0.295t0.277 0.116q0.393 0 0.429-0.411zM19.286 23.982l0.196-3.768-0.214-10.464q0-0.286-0.232-0.429-0.143-0.089-0.286-0.089t-0.286 0.089q-0.232 0.143-0.232 0.429l-0.018 0.107-0.179 10.339q0 0.018 0.196 4.214v0.018q0 0.179 0.107 0.304 0.161 0.196 0.411 0.196 0.196 0 0.357-0.161 0.161-0.125 0.161-0.357zM0.625 17.911l0.357 2.286-0.357 2.25q-0.036 0.161-0.161 0.161t-0.161-0.161l-0.304-2.25 0.304-2.286q0.036-0.161 0.161-0.161t0.161 0.161zM2.161 16.5l0.464 3.696-0.464 3.625q-0.036 0.161-0.179 0.161-0.161 0-0.161-0.179l-0.411-3.607 0.411-3.696q0-0.161 0.161-0.161 0.143 0 0.179 0.161zM3.804 15.821l0.446 4.375-0.446 4.232q0 0.196-0.196 0.196-0.179 0-0.214-0.196l-0.375-4.232 0.375-4.375q0.036-0.214 0.214-0.214 0.196 0 0.196 0.214zM5.482 15.696l0.411 4.5-0.411 4.357q-0.036 0.232-0.25 0.232-0.232 0-0.232-0.232l-0.375-4.357 0.375-4.5q0-0.232 0.232-0.232 0.214 0 0.25 0.232zM7.161 16.018l0.375 4.179-0.375 4.393q-0.036 0.286-0.286 0.286-0.107 0-0.188-0.080t-0.080-0.205l-0.357-4.393 0.357-4.179q0-0.107 0.080-0.188t0.188-0.080q0.25 0 0.286 0.268zM8.839 13.411l0.375 6.786-0.375 4.393q0 0.125-0.089 0.223t-0.214 0.098q-0.286 0-0.321-0.321l-0.321-4.393 0.321-6.786q0.036-0.321 0.321-0.321 0.125 0 0.214 0.098t0.089 0.223zM10.518 11.875l0.339 8.357-0.339 4.357q0 0.143-0.098 0.241t-0.241 0.098q-0.321 0-0.357-0.339l-0.286-4.357 0.286-8.357q0.036-0.339 0.357-0.339 0.143 0 0.241 0.098t0.098 0.241zM12.268 11.161l0.321 9.036-0.321 4.321q-0.036 0.375-0.393 0.375-0.339 0-0.375-0.375l-0.286-4.321 0.286-9.036q0-0.161 0.116-0.277t0.259-0.116q0.161 0 0.268 0.116t0.125 0.277zM19.268 24.411v0 0zM15.732 11.089l0.268 9.107-0.268 4.268q0 0.179-0.134 0.313t-0.313 0.134-0.304-0.125-0.143-0.321l-0.25-4.268 0.25-9.107q0-0.196 0.134-0.321t0.313-0.125 0.313 0.125 0.134 0.321zM17.5 11.429l0.25 8.786-0.25 4.214q0 0.196-0.143 0.339t-0.339 0.143-0.339-0.143-0.161-0.339l-0.214-4.214 0.214-8.786q0.018-0.214 0.161-0.357t0.339-0.143 0.33 0.143 0.152 0.357zM21.286 20.214l-0.25 4.125q0 0.232-0.161 0.393t-0.393 0.161-0.393-0.161-0.179-0.393l-0.107-2.036-0.107-2.089 0.214-11.357v-0.054q0.036-0.268 0.214-0.429 0.161-0.125 0.357-0.125 0.143 0 0.268 0.089 0.25 0.143 0.286 0.464zM41.143 19.875q0 2.089-1.482 3.563t-3.571 1.473h-14.036q-0.232-0.036-0.393-0.196t-0.161-0.393v-16.054q0-0.411 0.5-0.589 1.518-0.607 3.232-0.607 3.482 0 6.036 2.348t2.857 5.777q0.946-0.393 1.964-0.393 2.089 0 3.571 1.482t1.482 3.589z"></path>
</symbol>
<symbol id="icon-codepen" viewbox="0 0 32 32">
<path class="path1" d="M3.857 20.875l10.768 7.179v-6.411l-5.964-3.982zM2.75 18.304l3.446-2.304-3.446-2.304v4.607zM17.375 28.054l10.768-7.179-4.804-3.214-5.964 3.982v6.411zM16 19.25l4.857-3.25-4.857-3.25-4.857 3.25zM8.661 14.339l5.964-3.982v-6.411l-10.768 7.179zM25.804 16l3.446 2.304v-4.607zM23.339 14.339l4.804-3.214-10.768-7.179v6.411zM32 11.125v9.75q0 0.732-0.607 1.143l-14.625 9.75q-0.375 0.232-0.768 0.232t-0.768-0.232l-14.625-9.75q-0.607-0.411-0.607-1.143v-9.75q0-0.732 0.607-1.143l14.625-9.75q0.375-0.232 0.768-0.232t0.768 0.232l14.625 9.75q0.607 0.411 0.607 1.143z"></path>
</symbol>
<symbol id="icon-twitch" viewbox="0 0 32 32">
<path class="path1" d="M16 7.75v7.75h-2.589v-7.75h2.589zM23.107 7.75v7.75h-2.589v-7.75h2.589zM23.107 21.321l4.518-4.536v-14.196h-21.321v18.732h5.821v3.875l3.875-3.875h7.107zM30.214 0v18.089l-7.75 7.75h-5.821l-3.875 3.875h-3.875v-3.875h-7.107v-20.679l1.946-5.161h26.482z"></path>
</symbol>
<symbol id="icon-meanpath" viewbox="0 0 27 32">
<path class="path1" d="M23.411 15.036v2.036q0 0.429-0.241 0.679t-0.67 0.25h-3.607q-0.429 0-0.679-0.25t-0.25-0.679v-2.036q0-0.429 0.25-0.679t0.679-0.25h3.607q0.429 0 0.67 0.25t0.241 0.679zM14.661 19.143v-4.464q0-0.946-0.58-1.527t-1.527-0.58h-2.375q-1.214 0-1.714 0.929-0.5-0.929-1.714-0.929h-2.321q-0.946 0-1.527 0.58t-0.58 1.527v4.464q0 0.393 0.375 0.393h0.982q0.393 0 0.393-0.393v-4.107q0-0.429 0.241-0.679t0.688-0.25h1.679q0.429 0 0.679 0.25t0.25 0.679v4.107q0 0.393 0.375 0.393h0.964q0.393 0 0.393-0.393v-4.107q0-0.429 0.25-0.679t0.679-0.25h1.732q0.429 0 0.67 0.25t0.241 0.679v4.107q0 0.393 0.393 0.393h0.982q0.375 0 0.375-0.393zM25.179 17.429v-2.75q0-0.946-0.589-1.527t-1.536-0.58h-4.714q-0.946 0-1.536 0.58t-0.589 1.527v7.321q0 0.375 0.393 0.375h0.982q0.375 0 0.375-0.375v-3.214q0.554 0.75 1.679 0.75h3.411q0.946 0 1.536-0.58t0.589-1.527zM27.429 6.429v19.143q0 1.714-1.214 2.929t-2.929 1.214h-19.143q-1.714 0-2.929-1.214t-1.214-2.929v-19.143q0-1.714 1.214-2.929t2.929-1.214h19.143q1.714 0 2.929 1.214t1.214 2.929z"></path>
</symbol>
<symbol id="icon-pinterest-p" viewbox="0 0 23 32">
<path class="path1" d="M0 10.661q0-1.929 0.67-3.634t1.848-2.973 2.714-2.196 3.304-1.393 3.607-0.464q2.821 0 5.25 1.188t3.946 3.455 1.518 5.125q0 1.714-0.339 3.357t-1.071 3.161-1.786 2.67-2.589 1.839-3.375 0.688q-1.214 0-2.411-0.571t-1.714-1.571q-0.179 0.696-0.5 2.009t-0.42 1.696-0.366 1.268-0.464 1.268-0.571 1.116-0.821 1.384-1.107 1.545l-0.25 0.089-0.161-0.179q-0.268-2.804-0.268-3.357 0-1.643 0.384-3.688t1.188-5.134 0.929-3.625q-0.571-1.161-0.571-3.018 0-1.482 0.929-2.786t2.357-1.304q1.089 0 1.696 0.723t0.607 1.83q0 1.179-0.786 3.411t-0.786 3.339q0 1.125 0.804 1.866t1.946 0.741q0.982 0 1.821-0.446t1.402-1.214 1-1.696 0.679-1.973 0.357-1.982 0.116-1.777q0-3.089-1.955-4.813t-5.098-1.723q-3.571 0-5.964 2.313t-2.393 5.866q0 0.786 0.223 1.518t0.482 1.161 0.482 0.813 0.223 0.545q0 0.5-0.268 1.304t-0.661 0.804q-0.036 0-0.304-0.054-0.911-0.268-1.616-1t-1.089-1.688-0.58-1.929-0.196-1.902z"></path>
</symbol>
<symbol id="icon-get-pocket" viewbox="0 0 31 32">
<path class="path1" d="M27.946 2.286q1.161 0 1.964 0.813t0.804 1.973v9.268q0 3.143-1.214 6t-3.259 4.911-4.893 3.259-5.973 1.205q-3.143 0-5.991-1.205t-4.902-3.259-3.268-4.911-1.214-6v-9.268q0-1.143 0.821-1.964t1.964-0.821h25.161zM15.375 21.286q0.839 0 1.464-0.589l7.214-6.929q0.661-0.625 0.661-1.518 0-0.875-0.616-1.491t-1.491-0.616q-0.839 0-1.464 0.589l-5.768 5.536-5.768-5.536q-0.625-0.589-1.446-0.589-0.875 0-1.491 0.616t-0.616 1.491q0 0.911 0.643 1.518l7.232 6.929q0.589 0.589 1.446 0.589z"></path>
</symbol>
<symbol id="icon-vimeo" viewbox="0 0 32 32">
<path class="path1" d="M30.518 9.25q-0.179 4.214-5.929 11.625-5.946 7.696-10.036 7.696-2.536 0-4.286-4.696-0.786-2.857-2.357-8.607-1.286-4.679-2.804-4.679-0.321 0-2.268 1.357l-1.375-1.75q0.429-0.375 1.929-1.723t2.321-2.063q2.786-2.464 4.304-2.607 1.696-0.161 2.732 0.991t1.446 3.634q0.786 5.125 1.179 6.661 0.982 4.446 2.143 4.446 0.911 0 2.75-2.875 1.804-2.875 1.946-4.393 0.232-2.482-1.946-2.482-1.018 0-2.161 0.464 2.143-7.018 8.196-6.821 4.482 0.143 4.214 5.821z"></path>
</symbol>
<symbol id="icon-reddit-alien" viewbox="0 0 32 32">
<path class="path1" d="M32 15.107q0 1.036-0.527 1.884t-1.42 1.295q0.214 0.821 0.214 1.714 0 2.768-1.902 5.125t-5.188 3.723-7.143 1.366-7.134-1.366-5.179-3.723-1.902-5.125q0-0.839 0.196-1.679-0.911-0.446-1.464-1.313t-0.554-1.902q0-1.464 1.036-2.509t2.518-1.045q1.518 0 2.589 1.125 3.893-2.714 9.196-2.893l2.071-9.304q0.054-0.232 0.268-0.375t0.464-0.089l6.589 1.446q0.321-0.661 0.964-1.063t1.411-0.402q1.107 0 1.893 0.777t0.786 1.884-0.786 1.893-1.893 0.786-1.884-0.777-0.777-1.884l-5.964-1.321-1.857 8.429q5.357 0.161 9.268 2.857 1.036-1.089 2.554-1.089 1.482 0 2.518 1.045t1.036 2.509zM7.464 18.661q0 1.107 0.777 1.893t1.884 0.786 1.893-0.786 0.786-1.893-0.786-1.884-1.893-0.777q-1.089 0-1.875 0.786t-0.786 1.875zM21.929 25q0.196-0.196 0.196-0.464t-0.196-0.464q-0.179-0.179-0.446-0.179t-0.464 0.179q-0.732 0.75-2.161 1.107t-2.857 0.357-2.857-0.357-2.161-1.107q-0.196-0.179-0.464-0.179t-0.446 0.179q-0.196 0.179-0.196 0.455t0.196 0.473q0.768 0.768 2.116 1.214t2.188 0.527 1.625 0.080 1.625-0.080 2.188-0.527 2.116-1.214zM21.875 21.339q1.107 0 1.884-0.786t0.777-1.893q0-1.089-0.786-1.875t-1.875-0.786q-1.107 0-1.893 0.777t-0.786 1.884 0.786 1.893 1.893 0.786z"></path>
</symbol>
<symbol id="icon-hashtag" viewbox="0 0 32 32">
<path class="path1" d="M17.696 18.286l1.143-4.571h-4.536l-1.143 4.571h4.536zM31.411 9.286l-1 4q-0.125 0.429-0.554 0.429h-5.839l-1.143 4.571h5.554q0.268 0 0.446 0.214 0.179 0.25 0.107 0.5l-1 4q-0.089 0.429-0.554 0.429h-5.839l-1.446 5.857q-0.125 0.429-0.554 0.429h-4q-0.286 0-0.464-0.214-0.161-0.214-0.107-0.5l1.393-5.571h-4.536l-1.446 5.857q-0.125 0.429-0.554 0.429h-4.018q-0.268 0-0.446-0.214-0.161-0.214-0.107-0.5l1.393-5.571h-5.554q-0.268 0-0.446-0.214-0.161-0.214-0.107-0.5l1-4q0.125-0.429 0.554-0.429h5.839l1.143-4.571h-5.554q-0.268 0-0.446-0.214-0.179-0.25-0.107-0.5l1-4q0.089-0.429 0.554-0.429h5.839l1.446-5.857q0.125-0.429 0.571-0.429h4q0.268 0 0.446 0.214 0.161 0.214 0.107 0.5l-1.393 5.571h4.536l1.446-5.857q0.125-0.429 0.571-0.429h4q0.268 0 0.446 0.214 0.161 0.214 0.107 0.5l-1.393 5.571h5.554q0.268 0 0.446 0.214 0.161 0.214 0.107 0.5z"></path>
</symbol>
<symbol id="icon-chain" viewbox="0 0 30 32">
<path class="path1" d="M26 21.714q0-0.714-0.5-1.214l-3.714-3.714q-0.5-0.5-1.214-0.5-0.75 0-1.286 0.571 0.054 0.054 0.339 0.33t0.384 0.384 0.268 0.339 0.232 0.455 0.063 0.491q0 0.714-0.5 1.214t-1.214 0.5q-0.268 0-0.491-0.063t-0.455-0.232-0.339-0.268-0.384-0.384-0.33-0.339q-0.589 0.554-0.589 1.304 0 0.714 0.5 1.214l3.679 3.696q0.482 0.482 1.214 0.482 0.714 0 1.214-0.464l2.625-2.607q0.5-0.5 0.5-1.196zM13.446 9.125q0-0.714-0.5-1.214l-3.679-3.696q-0.5-0.5-1.214-0.5-0.696 0-1.214 0.482l-2.625 2.607q-0.5 0.5-0.5 1.196 0 0.714 0.5 1.214l3.714 3.714q0.482 0.482 1.214 0.482 0.75 0 1.286-0.554-0.054-0.054-0.339-0.33t-0.384-0.384-0.268-0.339-0.232-0.455-0.063-0.491q0-0.714 0.5-1.214t1.214-0.5q0.268 0 0.491 0.063t0.455 0.232 0.339 0.268 0.384 0.384 0.33 0.339q0.589-0.554 0.589-1.304zM29.429 21.714q0 2.143-1.518 3.625l-2.625 2.607q-1.482 1.482-3.625 1.482-2.161 0-3.643-1.518l-3.679-3.696q-1.482-1.482-1.482-3.625 0-2.196 1.571-3.732l-1.571-1.571q-1.536 1.571-3.714 1.571-2.143 0-3.643-1.5l-3.714-3.714q-1.5-1.5-1.5-3.643t1.518-3.625l2.625-2.607q1.482-1.482 3.625-1.482 2.161 0 3.643 1.518l3.679 3.696q1.482 1.482 1.482 3.625 0 2.196-1.571 3.732l1.571 1.571q1.536-1.571 3.714-1.571 2.143 0 3.643 1.5l3.714 3.714q1.5 1.5 1.5 3.643z"></path>
</symbol>
<symbol id="icon-thumb-tack" viewbox="0 0 21 32">
<path class="path1" d="M8.571 15.429v-8q0-0.25-0.161-0.411t-0.411-0.161-0.411 0.161-0.161 0.411v8q0 0.25 0.161 0.411t0.411 0.161 0.411-0.161 0.161-0.411zM20.571 21.714q0 0.464-0.339 0.804t-0.804 0.339h-7.661l-0.911 8.625q-0.036 0.214-0.188 0.366t-0.366 0.152h-0.018q-0.482 0-0.571-0.482l-1.357-8.661h-7.214q-0.464 0-0.804-0.339t-0.339-0.804q0-2.196 1.402-3.955t3.17-1.759v-9.143q-0.929 0-1.607-0.679t-0.679-1.607 0.679-1.607 1.607-0.679h11.429q0.929 0 1.607 0.679t0.679 1.607-0.679 1.607-1.607 0.679v9.143q1.768 0 3.17 1.759t1.402 3.955z"></path>
</symbol>
<symbol id="icon-arrow-left" viewbox="0 0 43 32">
<path class="path1" d="M42.311 14.044c-0.178-0.178-0.533-0.356-0.711-0.356h-33.778l10.311-10.489c0.178-0.178 0.356-0.533 0.356-0.711 0-0.356-0.178-0.533-0.356-0.711l-1.6-1.422c-0.356-0.178-0.533-0.356-0.889-0.356s-0.533 0.178-0.711 0.356l-14.578 14.933c-0.178 0.178-0.356 0.533-0.356 0.711s0.178 0.533 0.356 0.711l14.756 14.933c0 0.178 0.356 0.356 0.533 0.356s0.533-0.178 0.711-0.356l1.6-1.6c0.178-0.178 0.356-0.533 0.356-0.711s-0.178-0.533-0.356-0.711l-10.311-10.489h33.778c0.178 0 0.533-0.178 0.711-0.356 0.356-0.178 0.533-0.356 0.533-0.711v-2.133c0-0.356-0.178-0.711-0.356-0.889z"></path>
</symbol>
<symbol id="icon-arrow-right" viewbox="0 0 43 32">
<path class="path1" d="M0.356 17.956c0.178 0.178 0.533 0.356 0.711 0.356h33.778l-10.311 10.489c-0.178 0.178-0.356 0.533-0.356 0.711 0 0.356 0.178 0.533 0.356 0.711l1.6 1.6c0.178 0.178 0.533 0.356 0.711 0.356s0.533-0.178 0.711-0.356l14.756-14.933c0.178-0.356 0.356-0.711 0.356-0.889s-0.178-0.533-0.356-0.711l-14.756-14.933c0-0.178-0.356-0.356-0.533-0.356s-0.533 0.178-0.711 0.356l-1.6 1.6c-0.178 0.178-0.356 0.533-0.356 0.711s0.178 0.533 0.356 0.711l10.311 10.489h-33.778c-0.178 0-0.533 0.178-0.711 0.356-0.356 0.178-0.533 0.356-0.533 0.711v2.311c0 0.178 0.178 0.533 0.356 0.711z"></path>
</symbol>
<symbol id="icon-play" viewbox="0 0 22 28">
<path d="M21.625 14.484l-20.75 11.531c-0.484 0.266-0.875 0.031-0.875-0.516v-23c0-0.547 0.391-0.781 0.875-0.516l20.75 11.531c0.484 0.266 0.484 0.703 0 0.969z"></path>
</symbol>
<symbol id="icon-pause" viewbox="0 0 24 28">
<path d="M24 3v22c0 0.547-0.453 1-1 1h-8c-0.547 0-1-0.453-1-1v-22c0-0.547 0.453-1 1-1h8c0.547 0 1 0.453 1 1zM10 3v22c0 0.547-0.453 1-1 1h-8c-0.547 0-1-0.453-1-1v-22c0-0.547 0.453-1 1-1h8c0.547 0 1 0.453 1 1z"></path>
</symbol>
</defs>
</svg>

</body>
</html>